<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" type="image/png" href="/uaa/favicon.png"/>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>UAA API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>The User Account and Authentication Service (UAA):</p>

<ul>
<li>is an OAuth2 server that can be used for centralized identity management.</li>
<li>owns the user accounts and authentication sources (SAML, LDAP)</li>
<li>supports standard protocols such as SAML, LDAP and OpenID Connect to provide single sign-on and delegated authorization to web applications</li>
<li>can be invoked via JSON APIs</li>
<li>provides a basic login/approval UI for web client apps</li>
<li>supports APIs for user account management for an external web UI</li>
<li>most of the APIs are defined by the specs for the OAuth2, OpenID Connect, and SCIM standards.</li>
</ul>

<h1 id="authorization">Authorization</h1>

<h2 id="authorization-code-grant">Authorization Code Grant</h2>

<h3 id="browser-flow">Browser flow</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=code&amp;client_id=login&amp;scope=openid+oauth.approvals&amp;redirect_uri=http%3A%2F%2Fredirect.to%2Fapp'</span> -i -H <span class="s1">'Accept: application/x-www-form-urlencoded'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=code&amp;client_id=login&amp;scope=openid+oauth.approvals&amp;redirect_uri=http%3A%2F%2Fredirect.to%2Fapp</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Strict-Transport-Security</span><span class="p">:</span> <span class="s">max-age=31536000</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://redirect.to/app?code=m6VK3M</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>either <code class="prettyprint">code</code> for requesting an authorization code for an access token, as per OAuth spec</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<h3 id="api-flow">Api flow</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=code&amp;client_id=login&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf&amp;state=RGs3yy'</span> -i -H <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI1MWIxNjUwOWFiODE0NGQ3ODc4ZDllZDg1ODNjZTJlOSIsInN1YiI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsInNjb3BlIjpbInVhYS51c2VyIl0sImNsaWVudF9pZCI6ImNmIiwiY2lkIjoiY2YiLCJhenAiOiJjZiIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiJlODdkZGIwZi1hMTdkLTRiYWItOTEyMy04ODQ4MzdiNTE5ZTAiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwiZW1haWwiOiJtYXJpc3NhQHRlc3Qub3JnIiwiYXV0aF90aW1lIjoxNDY4MzY0NDQyLCJyZXZfc2lnIjoiOGE1MjljOTMiLCJpYXQiOjE0NjgzNjQ0NDIsImV4cCI6MTQ2ODQwNzY0MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsInppZCI6InVhYSIsImF1ZCI6WyJjZiIsInVhYSJdfQ.KrxBGyU0QChgiTSiFBZUYWLDGZ0EN21lxB5pmdqN0dg'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=code&amp;client_id=login&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf&amp;state=RGs3yy</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI1MWIxNjUwOWFiODE0NGQ3ODc4ZDllZDg1ODNjZTJlOSIsInN1YiI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsInNjb3BlIjpbInVhYS51c2VyIl0sImNsaWVudF9pZCI6ImNmIiwiY2lkIjoiY2YiLCJhenAiOiJjZiIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiJlODdkZGIwZi1hMTdkLTRiYWItOTEyMy04ODQ4MzdiNTE5ZTAiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwiZW1haWwiOiJtYXJpc3NhQHRlc3Qub3JnIiwiYXV0aF90aW1lIjoxNDY4MzY0NDQyLCJyZXZfc2lnIjoiOGE1MjljOTMiLCJpYXQiOjE0NjgzNjQ0NDIsImV4cCI6MTQ2ODQwNzY0MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsInppZCI6InVhYSIsImF1ZCI6WyJjZiIsInVhYSJdfQ.KrxBGyU0QChgiTSiFBZUYWLDGZ0EN21lxB5pmdqN0dg</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://uaa.cloudfoundry.com/redirect/cf?code=sL8s57&amp;state=RGs3yy</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">code</code> for requesting an authorization code for an access token, as per OAuth spec</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>Required</td>
<td>any random string to be returned in the Location header as a query parameter, used to achieve per-request customization</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing uaa.user scope - the authentication for this user</td>
</tr>
</tbody></table>

<aside class="notice">
  The client must have autoapprove=true, or you will not get a code back.<br/>
  The client must have a redirect_uri registered, it is an required parameter of the request.<br/>
  The token must have scope &ldquo;uaa.user&rdquo; in order to exchange a token for an authorization code.<br/>
</aside>

<h2 id="implicit-grant">Implicit Grant</h2>

<h3 id="browser-flow">Browser flow</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F'</span> -i -H <span class="s1">'Accept: application/x-www-form-urlencoded'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Strict-Transport-Security</span><span class="p">:</span> <span class="s">max-age=31536000</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/app/#token_type=bearer&amp;access_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJiNTI1ZTM1ZjgzMTM0NmIyYmRiNTY4NGQwYjE1ZDkxMSIsInN1YiI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsInNjb3BlIjpbIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJhcHAiLCJjaWQiOiJhcHAiLCJhenAiOiJhcHAiLCJ1c2VyX2lkIjoiZTg3ZGRiMGYtYTE3ZC00YmFiLTkxMjMtODg0ODM3YjUxOWUwIiwib3JpZ2luIjoidWFhIiwidXNlcl9uYW1lIjoibWFyaXNzYSIsImVtYWlsIjoibWFyaXNzYUB0ZXN0Lm9yZyIsInJldl9zaWciOiJhY2YwZmY0IiwiaWF0IjoxNDY4MzY0NDQyLCJleHAiOjE0Njg0MDc2NDIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC91YWEvb2F1dGgvdG9rZW4iLCJ6aWQiOiJ1YWEiLCJhdWQiOlsiYXBwIiwib3BlbmlkIl19.CgkRM4w8hG1p7k4c_n1ejOpbyc86pL-jMfxdsT4aSsA&amp;expires_in=43199&amp;jti=b525e35f831346b2bdb5684d0b15d911</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Expected response type, in this case &ldquo;token&rdquo;, i.e. an access token</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Location</td>
<td>Location as defined in the spec includes access_token in the reply fragment if successful</td>
</tr>
</tbody></table>

<h2 id="openid-connect-flow">OpenID Connect flow</h2>

<h3 id="id-token">ID token</h3>

<p>The authorization request may specify a response type of id_token, and an ID token as defined
  by OpenID Connect will be included in the fragment of the redirect URL.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F'</span> -i -H <span class="s1">'Accept: application/x-www-form-urlencoded'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Strict-Transport-Security</span><span class="p">:</span> <span class="s">max-age=31536000</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/app/#token_type=bearer&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJlODdkZGIwZi1hMTdkLTRiYWItOTEyMy04ODQ4MzdiNTE5ZTAiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE0Njg0MDc2NDIsImlhdCI6MTQ2ODM2NDQ0MiwianRpIjoiYTAxYWYxYzc5ZmFjNDliY2JkZTc2OGRiYzJkNTdlMzAiLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiYWNmMGZmNCIsImNpZCI6ImFwcCJ9.6ZMTF84NUFkWeBLYjLkhLOe1WxHC96CY0SJG-zY83T0&amp;expires_in=43199&amp;jti=a01af1c79fac49bcbde768dbc2d57e30</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Expected response type, in this case &ldquo;id_token&rdquo;</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Location</td>
<td>Location as defined in the spec includes id_token in the reply fragment if successful</td>
</tr>
</tbody></table>

<h3 id="with-authorization-code-grant">With authorization code grant</h3>

<p>The request may specify that the client expects an ID token as defined by OpenID Connect, and this
  ID token will be included alongside the authorization code.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=code+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F'</span> -i -H <span class="s1">'Accept: application/x-www-form-urlencoded'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=code+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Strict-Transport-Security</span><span class="p">:</span> <span class="s">max-age=31536000</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/app/#token_type=bearer&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJlODdkZGIwZi1hMTdkLTRiYWItOTEyMy04ODQ4MzdiNTE5ZTAiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE0Njg0MDc2NDIsImlhdCI6MTQ2ODM2NDQ0MiwianRpIjoiM2E4ZGE3NjQ1YTUxNGRlNDg3ZGRhOWM0N2MyZTBkNDMiLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiYWNmMGZmNCIsImNpZCI6ImFwcCJ9.bVJM1zH0EjbLjFh_kCYRxqXvdzVrCIR81e77kR4Rvdk&amp;code=k4Cec4&amp;expires_in=43199&amp;jti=3a8da7645a514de487dda9c47c2e0d43</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Expected response type, in this case &ldquo;id_token code&rdquo;, indicating a request for an ID token and an authorization code.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Location</td>
<td>Location as defined in the spec includes code and id_token in the reply fragment if successful</td>
</tr>
</tbody></table>

<h3 id="with-implicit-grant">With implicit grant</h3>

<p>The request may specify that the client expects an ID token as defined by OpenID Connect, and this
  ID token will be included alongside the access token.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/authorize?response_type=token+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F'</span> -i -H <span class="s1">'Accept: application/x-www-form-urlencoded'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/authorize?response_type=token+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Strict-Transport-Security</span><span class="p">:</span> <span class="s">max-age=31536000</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span><span class="s"> </span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">http://localhost:8080/app/#token_type=bearer&amp;access_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiIyMTQyOTRjOGMzMzE0MzExOGM0MTA3ZWRhOGMxM2IyMSIsInN1YiI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsInNjb3BlIjpbIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJhcHAiLCJjaWQiOiJhcHAiLCJhenAiOiJhcHAiLCJ1c2VyX2lkIjoiZTg3ZGRiMGYtYTE3ZC00YmFiLTkxMjMtODg0ODM3YjUxOWUwIiwib3JpZ2luIjoidWFhIiwidXNlcl9uYW1lIjoibWFyaXNzYSIsImVtYWlsIjoibWFyaXNzYUB0ZXN0Lm9yZyIsInJldl9zaWciOiJhY2YwZmY0IiwiaWF0IjoxNDY4MzY0NDQyLCJleHAiOjE0Njg0MDc2NDIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC91YWEvb2F1dGgvdG9rZW4iLCJ6aWQiOiJ1YWEiLCJhdWQiOlsiYXBwIiwib3BlbmlkIl19.PSlpvBLkhKYzE6JaEJvwGRM8nU42o_E8F1p5zmAUP-U&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJlODdkZGIwZi1hMTdkLTRiYWItOTEyMy04ODQ4MzdiNTE5ZTAiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6ImU4N2RkYjBmLWExN2QtNGJhYi05MTIzLTg4NDgzN2I1MTllMCIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE0Njg0MDc2NDIsImlhdCI6MTQ2ODM2NDQ0MiwianRpIjoiMjE0Mjk0YzhjMzMxNDMxMThjNDEwN2VkYThjMTNiMjEiLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiYWNmMGZmNCIsImNpZCI6ImFwcCJ9.0SSgHjuY1qoalsi7uCcPykP2EIiNMdO1_Mwa5e_2rko&amp;expires_in=43199&amp;jti=214294c8c33143118c4107eda8c13b21</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Expected response type, in this case &ldquo;token id_token&rdquo;, indicating both an access token and an ID token.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Location</td>
<td>Location as defined in the spec includes access_token and id_token in the reply fragment if successful</td>
</tr>
</tbody></table>

<h1 id="token">Token</h1>

<h2 id="authorization-code-grant">Authorization Code Grant</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=token&amp;code=3FAjK4&amp;token_format=opaque&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=token&amp;code=3FAjK4&amp;token_format=opaque&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">250</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3405299f864c81a8b49fbddeaa010e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3405299f864c81a8b49fbddeaa010e-r"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid oauth.approvals"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3405299f864c81a8b49fbddeaa010e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required if provided on authorization request</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied)</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>the authorization code, obtained from /oauth/authorize, issued for the user</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">authorization_code</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>the secret passphrase configured for the OAuth client</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &lsquo;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h2 id="client-credentials-grant">Client Credentials Grant</h2>

<h3 id="without-authorization">Without Authorization</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'client_id=login&amp;client_secret=loginsecret&amp;grant_type=client_credentials&amp;token_format=opaque&amp;response_type=token'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

client_id=login&amp;client_secret=loginsecret&amp;grant_type=client_credentials&amp;token_format=opaque&amp;response_type=token
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">306</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"f9cc636a5ebf4c728fdca585f6f7b625"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"clients.read emails.write scim.userids password.write idps.write notifications.write oauth.login scim.write critical_notifications.write"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"f9cc636a5ebf4c728fdca585f6f7b625"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">client_credentials</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>the secret passphrase configured for the OAuth client</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h3 id="with-authorization">With Authorization</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -u <span class="s1">'login:loginsecret'</span> -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'grant_type=client_credentials&amp;response_type=token&amp;token_format=opaque'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic bG9naW46bG9naW5zZWNyZXQ=</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

grant_type=client_credentials&amp;response_type=token&amp;token_format=opaque
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">306</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"979cdd1a331446ff972dbceebe8eb95c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"clients.read emails.write scim.userids password.write idps.write notifications.write oauth.login scim.write critical_notifications.write"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"979cdd1a331446ff972dbceebe8eb95c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Base64 encoded client details in the format: <code class="prettyprint">Basic client_id:client_secret</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">client_credentials</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h2 id="password-grant">Password Grant</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'client_id=app&amp;client_secret=appclientsecret&amp;grant_type=password&amp;username=R71IGQ%40test.org&amp;password=secr3T&amp;token_format=opaque&amp;response_type=token'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

client_id=app&amp;client_secret=appclientsecret&amp;grant_type=password&amp;username=R71IGQ%40test.org&amp;password=secr3T&amp;token_format=opaque&amp;response_type=token
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">307</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"37c75c8702534340aeb8684cd3e384f6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"37c75c8702534340aeb8684cd3e384f6-r"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids openid cloud_controller.read password.write cloud_controller.write"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"37c75c8702534340aeb8684cd3e384f6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">password</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>the secret passphrase configured for the OAuth client</td>
</tr>
<tr>
<td>username</td>
<td>String</td>
<td>Required</td>
<td>the username for the user trying to get a token</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>the password for the user trying to get a token</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h3 id="one-time-passcode">One-time Passcode</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -u <span class="s1">'app:appclientsecret'</span> -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'grant_type=password&amp;passcode=33tzegOau3&amp;token_format=opaque&amp;response_type=token'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YXBwOmFwcGNsaWVudHNlY3JldA==</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

grant_type=password&amp;passcode=33tzegOau3&amp;token_format=opaque&amp;response_type=token
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">307</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"580b907c8c534152a811b16e84424cd6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"580b907c8c534152a811b16e84424cd6-r"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids openid cloud_controller.read password.write cloud_controller.write"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"580b907c8c534152a811b16e84424cd6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Base64 encoded client details in the format: <code class="prettyprint">Basic client_id:client_secret</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">password</code></td>
</tr>
<tr>
<td>passcode</td>
<td>String</td>
<td>Required</td>
<td>the one-time passcode for the user which can be retrieved by going to <code class="prettyprint">/passcode</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<aside class="notice">
  The client-id and client-secret can also be included in the header as Basic Authorization for all grant types.
</aside>

<h2 id="refresh-token">Refresh Token</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'client_id=app&amp;client_secret=appclientsecret&amp;grant_type=refresh_token&amp;token_format=opaque&amp;refresh_token=631ef4eb75484019997d525669a8bd51-r'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

client_id=app&amp;client_secret=appclientsecret&amp;grant_type=refresh_token&amp;token_format=opaque&amp;refresh_token=631ef4eb75484019997d525669a8bd51-r
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1925</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI2MzFlZjRlYjc1NDg0MDE5OTk3ZDUyNTY2OWE4YmQ1MSIsInN1YiI6IjUwZmNlOTZmLTU3M2MtNDlhMC1iMWQ2LWJlNGRmZmJkZjg3YSIsInNjb3BlIjpbInNjaW0udXNlcmlkcyIsImNsb3VkX2NvbnRyb2xsZXIucmVhZCIsInBhc3N3b3JkLndyaXRlIiwiY2xvdWRfY29udHJvbGxlci53cml0ZSIsIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJhcHAiLCJjaWQiOiJhcHAiLCJhenAiOiJhcHAiLCJyZXZvY2FibGUiOnRydWUsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiI1MGZjZTk2Zi01NzNjLTQ5YTAtYjFkNi1iZTRkZmZiZGY4N2EiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJxWjQ0MWhAdGVzdC5vcmciLCJlbWFpbCI6InFaNDQxaEB0ZXN0Lm9yZyIsInJldl9zaWciOiJiNDJhYTc1MiIsImlhdCI6MTQ2ODM2NDQ1OSwiZXhwIjoxNDY4NDA3NjU5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFwcCIsInNjaW0iLCJjbG91ZF9jb250cm9sbGVyIiwicGFzc3dvcmQiLCJvcGVuaWQiXX0.yaa7NtSdyUh7KYW7opK8xRMXTcphVbf6gb_KyMXFsKQ"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI2MzFlZjRlYjc1NDg0MDE5OTk3ZDUyNTY2OWE4YmQ1MS1yIiwic3ViIjoiNTBmY2U5NmYtNTczYy00OWEwLWIxZDYtYmU0ZGZmYmRmODdhIiwic2NvcGUiOlsic2NpbS51c2VyaWRzIiwib3BlbmlkIiwiY2xvdWRfY29udHJvbGxlci5yZWFkIiwicGFzc3dvcmQud3JpdGUiLCJjbG91ZF9jb250cm9sbGVyLndyaXRlIl0sImlhdCI6MTQ2ODM2NDQ1OSwiZXhwIjoxNDcwOTU2NDU5LCJjaWQiOiJhcHAiLCJjbGllbnRfaWQiOiJhcHAiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwicmV2b2NhYmxlIjp0cnVlLCJncmFudF90eXBlIjoicGFzc3dvcmQiLCJ1c2VyX25hbWUiOiJxWjQ0MWhAdGVzdC5vcmciLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX2lkIjoiNTBmY2U5NmYtNTczYy00OWEwLWIxZDYtYmU0ZGZmYmRmODdhIiwicmV2X3NpZyI6ImI0MmFhNzUyIiwiYXVkIjpbImFwcCIsInNjaW0iLCJvcGVuaWQiLCJjbG91ZF9jb250cm9sbGVyIiwicGFzc3dvcmQiXX0.13OVgjH6ENyEmhJcK8ym0WduvNgrnuN0Ir1-_bVYlQM"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids cloud_controller.read password.write cloud_controller.write openid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"631ef4eb75484019997d525669a8bd51"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">refresh_token</code></td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>the secret passphrase configured for the OAuth client</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>Required</td>
<td>the refresh_token that was returned along with the access token.</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>the refresh token</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h2 id="openid-connect">OpenID Connect</h2>

<p>The token endpoint can provide an ID token as defined by OpenID Connect.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span> -d <span class="s1">'client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=id_token&amp;code=kbQxHM&amp;token_format=opaque&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=id_token&amp;code=kbQxHM&amp;token_format=opaque&amp;redirect_uri=https%3A%2F%2Fuaa.cloudfoundry.com%2Fredirect%2Fcf
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1020</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1194ddf8ca934b49b9fd7d7db5cfc4ec"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJkMjQ1NDJkMS1hYzkwLTQyNTktYjI2NC1iZGRjY2MyMzIyNWYiLCJ1c2VyX25hbWUiOiJUSkZxM1ZAdGVzdC5vcmciLCJvcmlnaW4iOiJ1YWEiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwicmV2b2NhYmxlIjp0cnVlLCJjbGllbnRfaWQiOiJsb2dpbiIsImF1ZCI6WyJsb2dpbiJdLCJ6aWQiOiJ1YWEiLCJncmFudF90eXBlIjoiYXV0aG9yaXphdGlvbl9jb2RlIiwidXNlcl9pZCI6ImQyNDU0MmQxLWFjOTAtNDI1OS1iMjY0LWJkZGNjYzIzMjI1ZiIsImF6cCI6ImxvZ2luIiwic2NvcGUiOlsib3BlbmlkIl0sImF1dGhfdGltZSI6MTQ2ODM2NDQ1OCwiZXhwIjoxNDY4NDA3NjU4LCJpYXQiOjE0NjgzNjQ0NTgsImp0aSI6IjExOTRkZGY4Y2E5MzRiNDliOWZkN2Q3ZGI1Y2ZjNGVjIiwiZW1haWwiOiJUSkZxM1ZAdGVzdC5vcmciLCJyZXZfc2lnIjoiNjUwMWU4MjIiLCJjaWQiOiJsb2dpbiJ9.XARq0IMMz0VpVrXEnMGIB1gtQwkTgEujwLqOFc7Mg7g"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1194ddf8ca934b49b9fd7d7db5cfc4ec-r"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43199</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid oauth.approvals"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1194ddf8ca934b49b9fd7d7db5cfc4ec"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required if provided on authorization request</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied)</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>the authorization code, obtained from /oauth/authorize, issued for the user</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code class="prettyprint">authorization_code</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>the secret passphrase configured for the OAuth client</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&rsquo; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>String</td>
<td>the access token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td>id_token</td>
<td>String</td>
<td>the OpenID Connect ID token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td>token_type</td>
<td>String</td>
<td>the type of the access token issued, i.e. <code class="prettyprint">bearer</code></td>
</tr>
<tr>
<td>expires_in</td>
<td>Number</td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<h2 id="revoke-tokens">Revoke tokens</h2>

<aside class="success">
  Added in UAA 3.3.0
</aside>

<h3 id="revoke-all-tokens-for-a-user">Revoke all tokens for a user</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token/revoke/user/fc6a139b-e435-4fbc-bbdb-60307b6e1db6'</span> -i -H <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiIxYWJhOWE3MDdmYjI0MWQ1YTcwMTE0YTg5ZGNkYjQ3MyIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OSwiZXhwIjoxNDY4NDA3NjU5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.dsdQZSd9g5gPfmKH8msfqOgvc0tDi7fZwhIkrYJM-vU'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/token/revoke/user/fc6a139b-e435-4fbc-bbdb-60307b6e1db6</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiIxYWJhOWE3MDdmYjI0MWQ1YTcwMTE0YTg5ZGNkYjQ3MyIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OSwiZXhwIjoxNDY4NDA3NjU5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.dsdQZSd9g5gPfmKH8msfqOgvc0tDi7fZwhIkrYJM-vU</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/user/{userId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The identifier for the user to revoke all tokens for</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with uaa.admin scope.</td>
</tr>
</tbody></table>

<h3 id="revoke-all-tokens-for-a-client">Revoke all tokens for a client</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token/revoke/client/4pvyCx'</span> -i -H <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI0MGY3MzZmMjRkMTg0ZDcyOTM0MmRmMDkxNjIzM2Y5YyIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OCwiZXhwIjoxNDY4NDA3NjU4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.L3RWvAOBPetJas78GCVViSjWyWbAMSbr_3qu4y3i0fw'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/token/revoke/client/4pvyCx</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI0MGY3MzZmMjRkMTg0ZDcyOTM0MmRmMDkxNjIzM2Y5YyIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OCwiZXhwIjoxNDY4NDA3NjU4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.L3RWvAOBPetJas78GCVViSjWyWbAMSbr_3qu4y3i0fw</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/client/{clientId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>The identifier for the client to revoke all tokens for</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with uaa.admin scope.</td>
</tr>
</tbody></table>

<h3 id="revoke-a-single-token">Revoke a single token</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/token/revoke/a13ee960e68f4fa796eb1eeffae36803'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJmMzJjZTJhZTU4OGM0NTFiOWRkYWUzODdhYjgwMzQ2ZCIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OCwiZXhwIjoxNDY4NDA3NjU4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.8iueAOtg9qQ1UtjgXkBYjMS5EW_in0_5DE-ZmObRICo'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/oauth/token/revoke/a13ee960e68f4fa796eb1eeffae36803</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJmMzJjZTJhZTU4OGM0NTFiOWRkYWUzODdhYjgwMzQ2ZCIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJkOTdhNjI0NyIsImlhdCI6MTQ2ODM2NDQ1OCwiZXhwIjoxNDY4NDA3NjU4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFkbWluIiwiY2xpZW50cyIsInVhYSIsInNjaW0iXX0.8iueAOtg9qQ1UtjgXkBYjMS5EW_in0_5DE-ZmObRICo</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/{tokenId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tokenId</td>
<td>The identifier for the token to be revoked. For JWT tokens use the jti claim in the token.</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with tokens.revoke scope. If token being revoked is for self, use the token to be revoked in this header.</td>
</tr>
</tbody></table>

<h1 id="check-token">Check Token</h1>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/check_token'</span> -i -u <span class="s1">'app:appclientsecret'</span> -X POST -d <span class="s1">'token=98a88c9c20644ffc8f108025e98b4927&amp;scopes=password.write%2Cscim.userids'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/check_token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YXBwOmFwcGNsaWVudHNlY3JldA==</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>

token=98a88c9c20644ffc8f108025e98b4927&amp;scopes=password.write%2Cscim.userids
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">686</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e87ddb0f-a17d-4bab-9123-884837b519e0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"marissa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"marissa@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468407643</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"scim.userids"</span><span class="p">,</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cloud_controller.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"password.write"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cloud_controller.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"98a88c9c20644ffc8f108025e98b4927"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"aud"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w"> </span><span class="s2">"scim"</span><span class="p">,</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cloud_controller"</span><span class="p">,</span><span class="w"> </span><span class="s2">"password"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sub"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e87ddb0f-a17d-4bab-9123-884837b519e0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"iss"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/uaa/oauth/token"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"iat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364443</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"azp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth_time"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364443</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rev_sig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"acf0ff4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Uses basic authorization with base64(resource_server:shared_secret) assuming the caller (a resource server) is actually also a registered client and has <code class="prettyprint">uaa.resource</code> authority</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Required</td>
<td>The token</td>
</tr>
<tr>
<td>scopes</td>
<td>Array</td>
<td>Optional</td>
<td>String of comma-separated scopes, for checking presence of scopes on the token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>String</td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td>user_name</td>
<td>String</td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>A unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>exp</td>
<td>Number</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.4">Expiration Time</a> Claim</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Only applicable for client tokens</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>List of scopes authorized by the user for this client</td>
</tr>
<tr>
<td>jti</td>
<td>String</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.7">JWT ID</a> Claim</td>
</tr>
<tr>
<td>aud</td>
<td>Array</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.3">Audience</a> Claim</td>
</tr>
<tr>
<td>sub</td>
<td>String</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.2">Subject</a> Claim</td>
</tr>
<tr>
<td>iss</td>
<td>String</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.1">Issuer</a> Claim</td>
</tr>
<tr>
<td>iat</td>
<td>Number</td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.6">Issued At</a> Claim</td>
</tr>
<tr>
<td>cid</td>
<td>String</td>
<td>See <code class="prettyprint">client_id</code></td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>The type of authentication being used to obtain the token, in this case <code class="prettyprint">password</code></td>
</tr>
<tr>
<td>azp</td>
<td>String</td>
<td>Authorized party</td>
</tr>
<tr>
<td>auth_time</td>
<td>Number</td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td>zid</td>
<td>String</td>
<td>Zone ID</td>
</tr>
<tr>
<td>rev_sig</td>
<td>String</td>
<td>Revocation Signature - token revocation hash salted with at least client ID and client secret, and optionally various user values.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td>revocable</td>
<td>String</td>
<td>Set to true if this token is revocable</td>
</tr>
</tbody></table>

<h1 id="token-key-s">Token Key(s)</h1>

<h2 id="token-key">Token Key</h2>

<p>An endpoint which returns the JSON Web Token (JWT) key, used by the UAA to sign JWT access tokens, and to be used by authorized clients to verify that a token came from the UAA. The key is in JSON Web Key format. For complete information about JSON Web Keys, see <a href="https://tools.ietf.org/html/rfc7517">RFC 7517</a>. In the case when the token key is symmetric, signer key and verifier key are the same, then this call is authenticated with client credentials using the HTTP Basic method.</p>

<p>JWT signing keys are specified via the identity zone configuration (see <a href="#identity-zones">/identity-zones</a>). An identity zone token policy can be configured with multiple keys for purposes of key rotation. When adding a new key, set its ID as the <code class="prettyprint">activeKeyId</code> to use it to sign all new tokens. <a href="#check-token">/check_token</a> will continue to verify tokens signed with the previous signing key for as long as it is present in the <code class="prettyprint">keys</code> of the identity zone&rsquo;s token policy. Remove it to invalidate all those tokens.</p>

<h3 id="asymmetric">Asymmetric</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/token_key'</span> -i -u <span class="s1">'app:appclientsecret'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/token_key</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YXBwOmFwcGNsaWVudHNlY3JldA==</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">930</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"kid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"testKey"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"alg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SHA256withRSA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0m59l2u9iDnMbrXHfqkO\nrn2dVQ3vfBJqcDuFUK03d+1PZGbVlNCqnkpIJ8syFppW8ljnWweP7+LiWpRoz0I7\nfYb3d8TjhV86Y997Fl4DBrxgM6KTJOuE/uxnoDhZQ14LgOU2ckXjOzOdTsnGMKQB\nLCl0vpcXBtFLMaSbpv1ozi8h7DJyVZ6EnFQZUWGdgTMhDrmqevfx95U/16c5WBDO\nkqwIn7Glry9n9Suxygbf8g5AzpWcusZgDLIIZ7JTUldBb8qU2a0Dl4mvLZOn4wPo\njfj9Cw2QICsc5+Pwf21fP+hzf+1WSRHbnYv8uanRO0gZ8ekGaghM/2H6gqJbo2nI\nJwIDAQAB\n-----END PUBLIC KEY-----"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kty"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"use"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"n"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ANJufZdrvYg5zG61x36pDq59nVUN73wSanA7hVCtN3ftT2Rm1ZTQqp5KSCfLMhaaVvJY51sHj+/i4lqUaM9CO32G93fE44VfOmPfexZeAwa8YDOikyTrhP7sZ6A4WUNeC4DlNnJF4zsznU7JxjCkASwpdL6XFwbRSzGkm6b9aM4vIewyclWehJxUGVFhnYEzIQ65qnr38feVP9enOVgQzpKsCJ+xpa8vZ/UrscoG3/IOQM6VnLrGYAyyCGeyU1JXQW/KlNmtA5eJry2Tp+MD6I34/QsNkCArHOfj8H9tXz/oc3/tVkkR252L/Lmp0TtIGfHpBmoITP9h+oKiW6NpyCc="</span><span class="p">,</span><span class="w">
  </span><span class="nt">"e"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>No authorization is required for requesting public keys.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>kid</td>
<td>String</td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td>alg</td>
<td>String</td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>Verifier key</td>
</tr>
<tr>
<td>kty</td>
<td>String</td>
<td>Key type (RSA)</td>
</tr>
<tr>
<td>use</td>
<td>String</td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &ldquo;sig&rdquo;)</td>
</tr>
<tr>
<td>n</td>
<td>String</td>
<td>RSA key modulus</td>
</tr>
<tr>
<td>e</td>
<td>String</td>
<td>RSA key public exponent</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
</tbody></table>

<h3 id="symmetric">Symmetric</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/token_key'</span> -i -u <span class="s1">'app:appclientsecret'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/token_key</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YXBwOmFwcGNsaWVudHNlY3JldA==</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">100</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"kid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"testKey"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"alg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"HMACSHA256"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"key"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"kty"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"MAC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"use"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Uses basic authorization with <code class="prettyprint">base64(resource_server:shared_secret)</code> assuming the caller (a resource server) is actually also a registered client and has <code class="prettyprint">uaa.resource</code> authority</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>kid</td>
<td>String</td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td>alg</td>
<td>String</td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>Verifier key</td>
</tr>
<tr>
<td>kty</td>
<td>String</td>
<td>Key type (MAC)</td>
</tr>
<tr>
<td>use</td>
<td>String</td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &ldquo;sig&rdquo;)</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Not a resource server (missing <code class="prettyprint">uaa.resource</code> scope)</td>
</tr>
</tbody></table>

<h2 id="token-keys">Token Keys</h2>

<p>An endpoint which returns the list of JWT keys. To support key rotation, this list specifies the IDs of all currently valid keys. JWT tokens issued by the UAA contain a <code class="prettyprint">kid</code> field, indicating which key should be used for verification of the token.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/token_keys'</span> -i -u <span class="s1">'app:appclientsecret'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/token_keys</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YXBwOmFwcGNsaWVudHNlY3JldA==</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">965</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"kid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"testKey"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alg"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SHA256withRSA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0m59l2u9iDnMbrXHfqkO\nrn2dVQ3vfBJqcDuFUK03d+1PZGbVlNCqnkpIJ8syFppW8ljnWweP7+LiWpRoz0I7\nfYb3d8TjhV86Y997Fl4DBrxgM6KTJOuE/uxnoDhZQ14LgOU2ckXjOzOdTsnGMKQB\nLCl0vpcXBtFLMaSbpv1ozi8h7DJyVZ6EnFQZUWGdgTMhDrmqevfx95U/16c5WBDO\nkqwIn7Glry9n9Suxygbf8g5AzpWcusZgDLIIZ7JTUldBb8qU2a0Dl4mvLZOn4wPo\njfj9Cw2QICsc5+Pwf21fP+hzf+1WSRHbnYv8uanRO0gZ8ekGaghM/2H6gqJbo2nI\nJwIDAQAB\n-----END PUBLIC KEY-----"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"kty"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"use"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"n"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ANJufZdrvYg5zG61x36pDq59nVUN73wSanA7hVCtN3ftT2Rm1ZTQqp5KSCfLMhaaVvJY51sHj+/i4lqUaM9CO32G93fE44VfOmPfexZeAwa8YDOikyTrhP7sZ6A4WUNeC4DlNnJF4zsznU7JxjCkASwpdL6XFwbRSzGkm6b9aM4vIewyclWehJxUGVFhnYEzIQ65qnr38feVP9enOVgQzpKsCJ+xpa8vZ/UrscoG3/IOQM6VnLrGYAyyCGeyU1JXQW/KlNmtA5eJry2Tp+MD6I34/QsNkCArHOfj8H9tXz/oc3/tVkkR252L/Lmp0TtIGfHpBmoITP9h+oKiW6NpyCc="</span><span class="p">,</span><span class="w">
    </span><span class="nt">"e"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Basic authorization with <code class="prettyprint">base64(resource_server:shared_secret)</code> assuming the caller (a resource server) is actually also a registered client and has <code class="prettyprint">uaa.resource</code> authority. Header not required (anonymous) for obtaining only asymmetric keys. <code class="prettyprint">uaa.resource</code> authority also not required for obtaining only asymmetric keys should you choose to provide this header.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keys.[].kid</td>
<td>String</td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td>keys.[].alg</td>
<td>String</td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td>keys.[].value</td>
<td>String</td>
<td>Verifier key</td>
</tr>
<tr>
<td>keys.[].kty</td>
<td>String</td>
<td>Key type (RSA or MAC)</td>
</tr>
<tr>
<td>keys.[].use</td>
<td>String</td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &ldquo;sig&rdquo;)</td>
</tr>
<tr>
<td>keys.[].n</td>
<td>String</td>
<td>RSA key modulus</td>
</tr>
<tr>
<td>keys.[].e</td>
<td>String</td>
<td>RSA key public exponent</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
</tbody></table>

<h1 id="identity-zones">Identity Zones</h1>

<p>The UAA supports multi tenancy. This is referred to as identity zones. An identity zones is accessed through a unique subdomain. If the standard UAA responds to <a href="https://uaa.10.244.0.34.xip.io">https://uaa.10.244.0.34.xip.io</a> a zone on this UAA would be accessed through <a href="https://testzone1.uaa.10.244.0.34.xip.io">https://testzone1.uaa.10.244.0.34.xip.io</a></p>

<blockquote>
<p>A zone contains a unique identifier as well as a unique subdomain:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"testzone1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subdomain"</span><span class="p">:</span><span class="s2">"testzone1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"The Twiglet Zone[testzone1]"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Like the Twilight Zone but tastier[testzone1]."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="mi">1426258488910</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_modified"</span><span class="p">:</span><span class="mi">1426258488910</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The UAA by default creates a default zone. This zone will always be present, the ID will always be <code class="prettyprint">uaa</code>, and the subdomain is blank:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The system zone for backwards compatibility"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">946710000000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_modified"</span><span class="p">:</span><span class="w"> </span><span class="mi">946710000000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
  Note that if you specify a subdomain in mixed or upper case for creation or update of an identity zone, it will be converted into lower case before stored in the database. This way the UAA has an easy way to query the database for a zone based on a hostname.
</aside>

<h2 id="creating-an-identity-zone">Creating an identity zone</h2>

<p>An identity zone is created using a <code class="prettyprint">POST</code> with an <code class="prettyprint">IdentityZone</code> object. If the object contains an id, this id will be used as the identifier, otherwise an identifier will be generated. Once a zone has been created, the UAA will start accepting requests on the subdomain defined in the <code class="prettyprint">subdomain</code> field of the identity zone.
When an Identity Zone is created, an internal Identity Provider is automatically created with the default password policy.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-zones'</span> -i -X POST -H <span class="s1">'Authorization: Bearer 2e14f79710fd45389e5cf84e756ab21f'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "id" : "twiglet-create",
  "subdomain" : "twiglet-create",
  "config" : {
    "tokenPolicy" : {
      "accessTokenValidity" : -1,
      "refreshTokenValidity" : -1,
      "jwtRevocable" : false,
      "activeKeyId" : null,
      "keys" : {
        "exampleKeyId" : {
          "signingKey" : "s1gNiNg.K3y/t3XT"
        }
      }
    },
    "samlConfig" : {
      "assertionSigned" : true,
      "requestSigned" : true,
      "wantAssertionSigned" : false,
      "wantAuthnRequestSigned" : false,
      "assertionTimeToLiveSeconds" : 600,
      "certificate" : null,
      "privateKey" : null,
      "privateKeyPassword" : null
    },
    "links" : {
      "logout" : {
        "redirectUrl" : "/login",
        "redirectParameterName" : "redirect",
        "disableRedirectParameter" : true,
        "whitelist" : null
      },
      "selfService" : {
        "selfServiceLinksEnabled" : true,
        "signup" : "/create_account",
        "passwd" : "/forgot_password"
      }
    },
    "prompts" : [ {
      "name" : "username",
      "type" : "text",
      "text" : "Email"
    }, {
      "name" : "password",
      "type" : "password",
      "text" : "Password"
    }, {
      "name" : "passcode",
      "type" : "password",
      "text" : "One Time Code (Get on at /passcode)"
    } ],
    "idpDiscoveryEnabled" : false
  },
  "name" : "The Twiglet Zone",
  "version" : 0,
  "description" : "Like the Twilight Zone but tastier.",
  "created" : 1468364452371,
  "last_modified" : 1468364452371
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-zones</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 2e14f79710fd45389e5cf84e756ab21f</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1504</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-create"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-create"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"exampleKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"signingKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s1gNiNg.K3y/t3XT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452371</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452371</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1504</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-create"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-create"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"exampleKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"signingKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s1gNiNg.K3y/t3XT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452379</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452379</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.write</code> or <code class="prettyprint">zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Request and Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Optional</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Required</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Optional</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Optional</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>Required if <code class="prettyprint">config.tokenPolicy.keys</code> are set</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys</td>
<td>Object</td>
<td>Optional</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>Optional</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Optional</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Optional</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>Optional</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>String</td>
<td>Optional</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>String</td>
<td>Optional</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>Optional</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Optional</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>Optional</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Optional</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (Zones can only be created by being authenticated in the default zone.)</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid zone details</td>
</tr>
</tbody></table>

<blockquote>
<p>Sequential example of creating a zone and creating an admin client in that zone:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac client update admin --authorities <span class="s2">"uaa.admin,clients.read,clients.write,clients.secret,scim.read,scim.write,clients.admin,zones.testzone1.admin,zones.write"</span>

uaac token client get admin -s adminsecret

uaac -t curl -XPOST -H<span class="s2">"Content-Type:application/json"</span> -H<span class="s2">"Accept:application/json"</span> --data <span class="s1">'{ "id":"testzone1", "subdomain":"testzone1", "name":"The Twiglet Zone[testzone1]", "version":0, "description":"Like the Twilight Zone but tastier[testzone1]."}'</span> /identity-zones

uaac -t curl -H<span class="s2">"X-Identity-Zone-Id:testzone1"</span> -XPOST -H<span class="s2">"Content-Type:application/json"</span> -H<span class="s2">"Accept:application/json"</span> --data <span class="s1">'{ "client_id" : "admin", "client_secret" : "adminsecret", "scope" : ["uaa.none"], "resource_ids" : ["none"], "authorities" : ["uaa.admin","clients.read","clients.write","clients.secret","scim.read","scim.write","clients.admin"], "authorized_grant_types" : ["client_credentials"]}'</span> /oauth/clients

uaac target http://testzone1.localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac token decode
</code></pre>

<h2 id="retrieving-an-identity-zone">Retrieving an identity zone</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-zones/twiglet-get'</span> -i -H <span class="s1">'Authorization: Bearer c93b2ce5182348678b6551d40dd4bd0d'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/identity-zones/twiglet-get</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer c93b2ce5182348678b6551d40dd4bd0d</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1354</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452298</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452298</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to retrieve</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.read</code> or <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">zones.&lt;zone id&gt;.read</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys</td>
<td>Object</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>String</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>String</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Zone does not exist</td>
</tr>
</tbody></table>

<h2 id="retrieving-all-identity-zones">Retrieving all identity zones</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-zones'</span> -i -H <span class="s1">'Authorization: Bearer cef8c826d065417b8b8c29efd2fbeeb9'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/identity-zones</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer cef8c826d065417b8b8c29efd2fbeeb9</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">10527</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"13gju9g6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"13gju9g6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450118</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450118</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bry0zsl3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bry0zsl3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448897</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448897</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"efhdpiv0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"efhdpiv0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450979</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450979</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get-1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get-1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451878</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451878</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get-2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-get-2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451923</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451923</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43200</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2592000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"\n-----BEGIN CERTIFICATE-----\nMIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEO\nMAwGA1UECBMFYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEO\nMAwGA1UECxMFYXJ1YmExDjAMBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5h\ncnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2MjdaFw0xNjExMTkyMjI2MjdaMHwx\nCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAM\nBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAb\nBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GN\nADCBiQKBgQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39W\nqS9u0hnA+O7MCA/KlrAR4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOw\nznoD66DDCnQVpbCjtDYWX+x6imxn8HCYxhMol6ZnTbSsFW6VZjFMjQIDAQABo4Ha\nMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1syGDCBpwYDVR0jBIGfMIGc\ngBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3MQ4wDAYD\nVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYD\nVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJh\nQGFydWJhLmFyggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ\n0HOZbbHClXmGUjGs+GS+xC1FO/am2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxC\nKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3oePe84k8jm3A7EvH5wi5hvCkK\nRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=\n-----END CERTIFICATE-----\n                "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"\n-----BEGIN RSA PRIVATE KEY-----\nMIICXQIBAAKBgQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5\nL39WqS9u0hnA+O7MCA/KlrAR4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vA\nfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCYxhMol6ZnTbSsFW6VZjFMjQIDAQAB\nAoGAVOj2Yvuigi6wJD99AO2fgF64sYCm/BKkX3dFEw0vxTPIh58kiRP554Xt5ges\n7ZCqL9QpqrChUikO4kJ+nB8Uq2AvaZHbpCEUmbip06IlgdA440o0r0CPo1mgNxGu\nlhiWRN43Lruzfh9qKPhleg2dvyFGQxy5Gk6KW/t8IS4x4r0CQQD/dceBA+Ndj3Xp\nubHfxqNz4GTOxndc/AXAowPGpge2zpgIc7f50t8OHhG6XhsfJ0wyQEEvodDhZPYX\nkKBnXNHzAkEAyCA76vAwuxqAd3MObhiebniAU3SnPf2u4fdL1EOm92dyFs1JxyyL\ngu/DsjPjx6tRtn4YAalxCzmAMXFSb1qHfwJBAM3qx3z0gGKbUEWtPHcP7BNsrnWK\nvw6By7VC8bk/ffpaP2yYspS66Le9fzbFwoDzMVVUO/dELVZyBnhqSRHoXQcCQQCe\nA2WL8S5o7Vn19rC0GVgu3ZJlUrwiZEVLQdlrticFPXaFrn3Md82ICww3jmURaKHS\nN+l4lnMda79eSp3OMmq9AkA0p79BvYsLshUJJnvbk76pCjR28PK4dV1gSDUEqQMB\nqy45ptdwJLqLJCeNoR0JUcDNIRhOCuOPND7pcMtX6hI/\n-----END RSA PRIVATE KEY-----\n                "</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code ( Get one at http://localhost:8080/uaa/passcode )"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The system zone for backwards compatibility"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364436546</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.read</code> or <code class="prettyprint">zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].id</td>
<td>String</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>[].subdomain</td>
<td>String</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>[].description</td>
<td>String</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>[].version</td>
<td>Number</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>[].config.tokenPolicy</td>
<td>Object</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>[].config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>[].config.tokenPolicy.keys</td>
<td>Object</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>[].config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>[].config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>[].config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>[].config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>[].config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>[].config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>[].config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>[].config.samlConfig.certificate</td>
<td>String</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>[].config.samlConfig.privateKey</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>[].config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>[].config.links.logout.redirectUrl</td>
<td>String</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>[].config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>[].config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>[].config.links.logout.whitelist</td>
<td>Array</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>[].config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>[].config.links.selfService.signup</td>
<td>String</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>[].config.links.selfService.passwd</td>
<td>String</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>[].config.prompts[]</td>
<td>Array</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>[].config.prompts[].name</td>
<td>String</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>[].config.prompts[].type</td>
<td>String</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>[].config.prompts[].text</td>
<td>String</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>[].config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="updating-an-identity-zone">Updating an Identity Zone</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-zones/twiglet-update'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer d78f00c2720b4f45bac82fe8520deb04'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "subdomain" : "twiglet-update",
  "config" : {
    "tokenPolicy" : {
      "accessTokenValidity" : -1,
      "refreshTokenValidity" : -1,
      "jwtRevocable" : false,
      "activeKeyId" : null,
      "keys" : {
        "updatedKeyId" : {
          "signingKey" : "upD4t3d.s1gNiNg.K3y/t3XT"
        }
      }
    },
    "samlConfig" : {
      "assertionSigned" : true,
      "requestSigned" : true,
      "wantAssertionSigned" : false,
      "wantAuthnRequestSigned" : false,
      "assertionTimeToLiveSeconds" : 600,
      "certificate" : null,
      "privateKey" : null,
      "privateKeyPassword" : null
    },
    "links" : {
      "logout" : {
        "redirectUrl" : "/login",
        "redirectParameterName" : "redirect",
        "disableRedirectParameter" : true,
        "whitelist" : null
      },
      "selfService" : {
        "selfServiceLinksEnabled" : true,
        "signup" : "/create_account",
        "passwd" : "/forgot_password"
      }
    },
    "prompts" : [ {
      "name" : "username",
      "type" : "text",
      "text" : "Email"
    }, {
      "name" : "password",
      "type" : "password",
      "text" : "Password"
    }, {
      "name" : "passcode",
      "type" : "password",
      "text" : "One Time Code (Get on at /passcode)"
    } ],
    "idpDiscoveryEnabled" : false
  },
  "name" : "The Updated Twiglet Zone",
  "version" : 0,
  "description" : "Like the Twilight Zone but not tastier.",
  "created" : 1468364452218,
  "last_modified" : 1468364452218
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/identity-zones/twiglet-update</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer d78f00c2720b4f45bac82fe8520deb04</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1497</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"updatedKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"signingKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"upD4t3d.s1gNiNg.K3y/t3XT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Updated Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but not tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452218</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452218</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1524</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"updatedKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"signingKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"upD4t3d.s1gNiNg.K3y/t3XT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Updated Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Like the Twilight Zone but not tastier."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452212</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452228</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to update</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.write</code> or <code class="prettyprint">zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Required</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Optional</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Optional</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>Required if <code class="prettyprint">config.tokenPolicy.keys</code> are set</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys</td>
<td>Object</td>
<td>Optional</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>Optional</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Optional</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Optional</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Optional</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>Optional</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>String</td>
<td>Optional</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>String</td>
<td>Optional</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>Optional</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Optional</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>Optional</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Optional</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys</td>
<td>Object</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>String</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>String</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (zone admins can only update own zone)</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Update to nonexistent zone</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid zone details</td>
</tr>
</tbody></table>

<h2 id="deleting-an-identity-zone">Deleting an Identity Zone</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-zones/twiglet-delete'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer 7899be0c36234564a93a11af097505b2'</span> -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/identity-zones/twiglet-delete</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 7899be0c36234564a93a11af097505b2</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1360</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"subdomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"twiglet-delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"tokenPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"accessTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"refreshTokenValidity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jwtRevocable"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activeKeyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"keys"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"samlConfig"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"assertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"requestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAssertionSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"wantAuthnRequestSigned"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"assertionTimeToLiveSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nt">"certificate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"privateKeyPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"logout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redirectUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/login"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redirectParameterName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disableRedirectParameter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"whitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"selfService"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selfServiceLinksEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"passcode"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time Code (Get on at /passcode)"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"idpDiscoveryEnabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The Twiglet Zone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452106</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364452107</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to delete</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.write</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys</td>
<td>Object</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code class="prettyprint">accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code class="prettyprint">refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, all assertions received by the SAML provider must be signed. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Exposed SAML metadata property. If <code class="prettyprint">true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>If <code class="prettyprint">true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Exposed SAML metadata property. The certificate used to sign all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Exposed SAML metadata property. The SAML provider&rsquo;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>String</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>String</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (zone admins can only delete their own zone)</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Zone does not exist</td>
</tr>
</tbody></table>

<h1 id="identity-providers">Identity Providers</h1>

<h2 id="create">Create</h2>

<h3 id="saml">SAML</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers'</span> -i -X POST -H <span class="s1">'Authorization: Bearer b833bd388f5c4aacbe4260c680377997'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "type" : "saml",
  "config" : {
    "emailDomain" : null,
    "providerDescription" : null,
    "externalGroupsWhitelist" : [ ],
    "attributeMappings" : { },
    "addShadowUserOnLogin" : true,
    "metaDataLocation" : "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/SAML\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n",
    "nameID" : "urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",
    "assertionConsumerIndex" : 0,
    "metadataTrustCheck" : false,
    "showSamlLink" : false,
    "socketFactoryClassName" : "org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory",
    "linkText" : "IDPEndpointsMockTests Saml Provider:SAML",
    "iconUrl" : null,
    "groupMappingMode" : "EXPLICITLY_MAPPED"
  },
  "originKey" : "SAML",
  "name" : "SAML name",
  "active" : true
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-providers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer b833bd388f5c4aacbe4260c680377997</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2687</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metaDataLocation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/SAML\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nameID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assertionConsumerIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadataTrustCheck"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showSamlLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socketFactoryClassName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IDPEndpointsMockTests Saml Provider:SAML"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iconUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupMappingMode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPLICITLY_MAPPED"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2936</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metaDataLocation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/SAML\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"idpEntityAlias"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nameID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assertionConsumerIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadataTrustCheck"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showSamlLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socketFactoryClassName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IDPEndpointsMockTests Saml Provider:SAML"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iconUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupMappingMode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPLICITLY_MAPPED"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d37665fe-3a81-4c1c-9bfc-877f9cd48f03"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448681</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448681</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">saml</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for the SAML provider</td>
</tr>
<tr>
<td>config.metaDataLocation</td>
<td>String</td>
<td>Required</td>
<td>SAML Metadata - either an XML string or a URL that will deliver XML content</td>
</tr>
<tr>
<td>config.nameID</td>
<td>String</td>
<td>Optional</td>
<td>The name ID to use for the username, default is &ldquo;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&rdquo;.</td>
</tr>
<tr>
<td>config.assertionConsumerIndex</td>
<td>Number</td>
<td>Optional</td>
<td>SAML assertion consumer index, default is 0</td>
</tr>
<tr>
<td>config.metadataTrustCheck</td>
<td>Boolean</td>
<td>Optional</td>
<td>Should metadata be validated, defaults to false</td>
</tr>
<tr>
<td>config.showSamlLink</td>
<td>Boolean</td>
<td>Optional</td>
<td>Should the SAML login link be displayed on the login page, defaults to false</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Required if the <code class="prettyprint">showSamlLink</code> is set to true</td>
<td>The link text for the SAML IDP on the login page</td>
</tr>
<tr>
<td>config.groupMappingMode</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;EXPLICITLY_MAPPED&quot;</code>)</td>
<td>Either <code class="prettyprint">EXPLICITLY_MAPPED</code> in order to map external groups to OAuth scopes using the group mappings, or <code class="prettyprint">AS_SCOPES</code> to use SAML group names as scopes.</td>
</tr>
<tr>
<td>config.iconUrl</td>
<td>String</td>
<td>Optional</td>
<td>Reserved for future use</td>
</tr>
<tr>
<td>config.socketFactoryClassName</td>
<td>String</td>
<td>Optional</td>
<td>Either <code class="prettyprint">&quot;org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory&quot;</code> or<code class="prettyprint">&quot;org.apache.commons.httpclient.contrib.ssl.EasySSLProtocolSocketFactory&quot;</code> depending on if the <code class="prettyprint">metaDataLocation</code> of type <code class="prettyprint">URL</code> is HTTP or HTTPS, respectively</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.given_name</td>
<td>String</td>
<td>Optional</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.email</td>
<td>String</td>
<td>Optional</td>
<td>Map <code class="prettyprint">email</code> to the attribute for email in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td><code class="prettyprint">saml</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>A unique alias for the SAML provider</td>
</tr>
<tr>
<td>config.metaDataLocation</td>
<td>String</td>
<td>SAML Metadata - either an XML string or a URL that will deliver XML content</td>
</tr>
<tr>
<td>config.nameID</td>
<td>String</td>
<td>The name ID to use for the username, default is &ldquo;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&rdquo;.</td>
</tr>
<tr>
<td>config.assertionConsumerIndex</td>
<td>Number</td>
<td>SAML assertion consumer index, default is 0</td>
</tr>
<tr>
<td>config.metadataTrustCheck</td>
<td>Boolean</td>
<td>Should metadata be validated, defaults to false</td>
</tr>
<tr>
<td>config.showSamlLink</td>
<td>Boolean</td>
<td>Should the SAML login link be displayed on the login page, defaults to false</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>The link text for the SAML IDP on the login page</td>
</tr>
<tr>
<td>config.groupMappingMode</td>
<td>String</td>
<td>Either <code class="prettyprint">EXPLICITLY_MAPPED</code> in order to map external groups to OAuth scopes using the group mappings, or <code class="prettyprint">AS_SCOPES</code> to use SAML group names as scopes.</td>
</tr>
<tr>
<td>config.iconUrl</td>
<td>String</td>
<td>Reserved for future use</td>
</tr>
<tr>
<td>config.socketFactoryClassName</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory&quot;</code> or<code class="prettyprint">&quot;org.apache.commons.httpclient.contrib.ssl.EasySSLProtocolSocketFactory&quot;</code> depending on if the <code class="prettyprint">metaDataLocation</code> of type <code class="prettyprint">URL</code> is HTTP or HTTPS, respectively</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.given_name</td>
<td>String</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.email</td>
<td>String</td>
<td>Map <code class="prettyprint">email</code> to the attribute for email in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td>config.additionalConfiguration</td>
<td>Object</td>
<td>(Unused.)</td>
</tr>
<tr>
<td>identityZoneId</td>
<td>String</td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td>created</td>
<td>Number</td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td>last_modified</td>
<td>Number</td>
<td>UAA sets the modification date</td>
</tr>
<tr>
<td>config.idpEntityAlias</td>
<td>String</td>
<td>This will be set to <code class="prettyprint">originKey</code></td>
</tr>
<tr>
<td>config.zoneId</td>
<td>String</td>
<td>This will be set to the ID of the zone where the provider is being created</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h3 id="ldap">LDAP</h3>

<p>LDAP supports several different configurations. The most common one is that authentication is done using a search and bind strategy.
The available strategies for authentication are</p>

<ul>
<li>Bind authentication - the UAA uses the user&rsquo;s credentials to construct a DN and attempt a BIND operation to the LDAP server</li>
<li>Search and Bind authentication - We take the username and password, search for the user DN, and attempt a bind operation to the LDAP server</li>
<li>Search and Compare authentication - We take the username and password, search for the user DN and the user password, and perform a comparison of the provided password with the LDAP password</li>
</ul>

<p>Group integration also supports different strategies</p>

<ul>
<li>No group integration - LDAP is only used for authentication</li>
<li>Map a group to a UAA scope - using external group mappings</li>
<li>LDAP groups contain scopes - an entry in the LDAP record contains UAA scope names</li>
</ul>

<h4 id="ldap-simple-bind">LDAP Simple Bind</h4>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers'</span> -i -X POST -H <span class="s1">'X-Identity-Zone-Subdomain: efhdpiv0'</span> -H <span class="s1">'Authorization: Bearer 2d98440135aa4711a198f677c1ea348b'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "type" : "ldap",
  "config" : {
    "emailDomain" : null,
    "providerDescription" : null,
    "externalGroupsWhitelist" : [ ],
    "attributeMappings" : { },
    "addShadowUserOnLogin" : true,
    "ldapProfileFile" : "ldap/ldap-simple-bind.xml",
    "baseUrl" : "ldap://localhost:33389",
    "referral" : null,
    "skipSSLVerification" : false,
    "userDNPattern" : "cn={0},ou=Users,dc=test,dc=com",
    "userDNPatternDelimiter" : ";",
    "bindUserDn" : null,
    "bindPassword" : null,
    "userSearchBase" : null,
    "userSearchFilter" : null,
    "passwordAttributeName" : null,
    "passwordEncoder" : null,
    "localPasswordCompare" : null,
    "mailAttributeName" : "mail",
    "mailSubstitute" : null,
    "mailSubstituteOverridesLdap" : false,
    "ldapGroupFile" : "ldap/ldap-groups-null.xml",
    "groupSearchBase" : null,
    "groupSearchFilter" : null,
    "groupsIgnorePartialResults" : null,
    "autoAddGroups" : true,
    "groupSearchSubTree" : true,
    "maxGroupSearchDepth" : 10,
    "groupRoleAttribute" : null
  },
  "originKey" : "ldap",
  "name" : "ldap name",
  "active" : true
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-providers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-Identity-Zone-Subdomain</span><span class="p">:</span> <span class="s">efhdpiv0</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 2d98440135aa4711a198f677c1ea348b</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1114</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-simple-bind.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0},ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">";"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-null.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1315</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-simple-bind.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0},ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">";"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-null.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1a18f087-4ce3-450b-ae1c-3c53bbb84a69"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451275</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364451275</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"efhdpiv0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h4 id="ldap-search-and-bind">LDAP Search and Bind</h4>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers'</span> -i -X POST -H <span class="s1">'X-Identity-Zone-Subdomain: bry0zsl3'</span> -H <span class="s1">'Authorization: Bearer e6d6cdaccc114aba99e3200fe442c9bc'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "type" : "ldap",
  "config" : {
    "emailDomain" : null,
    "providerDescription" : null,
    "externalGroupsWhitelist" : [ ],
    "attributeMappings" : { },
    "addShadowUserOnLogin" : true,
    "ldapProfileFile" : "ldap/ldap-search-and-bind.xml",
    "baseUrl" : "ldap://localhost:33389",
    "referral" : null,
    "skipSSLVerification" : false,
    "userDNPattern" : null,
    "userDNPatternDelimiter" : null,
    "bindUserDn" : "cn=admin,ou=Users,dc=test,dc=com",
    "bindPassword" : "adminsecret",
    "userSearchBase" : "dc=test,dc=com",
    "userSearchFilter" : "cn={0}",
    "passwordAttributeName" : null,
    "passwordEncoder" : null,
    "localPasswordCompare" : null,
    "mailAttributeName" : "mail",
    "mailSubstitute" : "{0}@my.org",
    "mailSubstituteOverridesLdap" : false,
    "ldapGroupFile" : "ldap/ldap-groups-map-to-scopes.xml",
    "groupSearchBase" : "ou=scopes,dc=test,dc=com",
    "groupSearchFilter" : "member={0}",
    "groupsIgnorePartialResults" : null,
    "autoAddGroups" : true,
    "groupSearchSubTree" : true,
    "maxGroupSearchDepth" : 3,
    "groupRoleAttribute" : null
  },
  "originKey" : "ldap",
  "name" : "ldap name",
  "active" : true
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-providers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-Identity-Zone-Subdomain</span><span class="p">:</span> <span class="s">bry0zsl3</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer e6d6cdaccc114aba99e3200fe442c9bc</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1192</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-search-and-bind.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn=admin,ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"adminsecret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{0}@my.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-map-to-scopes.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=scopes,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"member={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1393</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-search-and-bind.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn=admin,ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"adminsecret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{0}@my.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-map-to-scopes.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=scopes,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"member={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d98a6976-f02a-43df-a253-2ae38193eeab"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364449188</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364449188</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bry0zsl3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h4 id="ldap-search-and-compare">LDAP Search and Compare</h4>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers'</span> -i -X POST -H <span class="s1">'X-Identity-Zone-Subdomain: 13gju9g6'</span> -H <span class="s1">'Authorization: Bearer 801285d328b341e997429c33c24b162e'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "type" : "ldap",
  "config" : {
    "emailDomain" : null,
    "providerDescription" : null,
    "externalGroupsWhitelist" : [ ],
    "attributeMappings" : { },
    "addShadowUserOnLogin" : true,
    "ldapProfileFile" : "ldap/ldap-search-and-compare.xml",
    "baseUrl" : "ldap://localhost:33389",
    "referral" : null,
    "skipSSLVerification" : false,
    "userDNPattern" : null,
    "userDNPatternDelimiter" : null,
    "bindUserDn" : "cn=admin,ou=Users,dc=test,dc=com",
    "bindPassword" : "adminsecret",
    "userSearchBase" : "dc=test,dc=com",
    "userSearchFilter" : "cn={0}",
    "passwordAttributeName" : "userPassword",
    "passwordEncoder" : "org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator",
    "localPasswordCompare" : true,
    "mailAttributeName" : "mail",
    "mailSubstitute" : null,
    "mailSubstituteOverridesLdap" : false,
    "ldapGroupFile" : "ldap/ldap-groups-as-scopes.xml",
    "groupSearchBase" : "ou=scopes,dc=test,dc=com",
    "groupSearchFilter" : "member={0}",
    "groupsIgnorePartialResults" : null,
    "autoAddGroups" : true,
    "groupSearchSubTree" : true,
    "maxGroupSearchDepth" : 3,
    "groupRoleAttribute" : "description"
  },
  "originKey" : "ldap",
  "name" : "ldap name",
  "active" : true
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-providers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">X-Identity-Zone-Subdomain</span><span class="p">:</span> <span class="s">13gju9g6</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 801285d328b341e997429c33c24b162e</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1269</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-search-and-compare.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn=admin,ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"adminsecret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"userPassword"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-as-scopes.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=scopes,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"member={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1470</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapProfileFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-search-and-compare.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"baseUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://localhost:33389"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"referral"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSSLVerification"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPattern"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userDNPatternDelimiter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindUserDn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn=admin,ou=Users,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bindPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"adminsecret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cn={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"userPassword"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordEncoder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"localPasswordCompare"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailAttributeName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstitute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mailSubstituteOverridesLdap"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ldapGroupFile"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap/ldap-groups-as-scopes.xml"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchBase"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=scopes,dc=test,dc=com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchFilter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"member={0}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupsIgnorePartialResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"autoAddGroups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupSearchSubTree"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxGroupSearchDepth"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupRoleAttribute"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"acbf7bbe-d802-43f2-9589-c17d2ab7ae4b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450414</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450414</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"13gju9g6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code class="prettyprint">ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code class="prettyprint">ldap/ldap-simple-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-bind.xml</code>, <code class="prettyprint">ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code class="prettyprint">ldap/ldap-no-groups.xml</code>, <code class="prettyprint">ldap/ldap-groups-as-scopes.xml</code>, <code class="prettyprint">ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code class="prettyprint">ldap://</code> or <code class="prettyprint">ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&rsquo;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code class="prettyprint">{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;givenname&quot;</code>)</td>
<td>Map <code class="prettyprint">given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;sn&quot;</code>)</td>
<td>Map <code class="prettyprint">family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;telephonenumber&quot;</code>)</td>
<td>Map <code class="prettyprint">phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h3 id="oauth-oidc">OAuth/OIDC</h3>

<aside class="success">
  Added in UAA 3.3.0
</aside>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers'</span> -i -X POST -H <span class="s1">'Authorization: Bearer d93b6252db2344d699835d0245fede2c'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "type" : "oauth2.0",
  "config" : {
    "emailDomain" : null,
    "providerDescription" : null,
    "attributeMappings" : { },
    "addShadowUserOnLogin" : true,
    "authUrl" : "http://auth.url",
    "tokenUrl" : "http://token.url",
    "tokenKeyUrl" : null,
    "tokenKey" : "token-key",
    "linkText" : null,
    "showLinkText" : false,
    "skipSslValidation" : false,
    "relyingPartyId" : "uaa",
    "relyingPartySecret" : "secret",
    "scopes" : null,
    "issuer" : null
  },
  "originKey" : "oauth2.0",
  "name" : "UAA Provider",
  "active" : true
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/identity-providers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer d93b6252db2344d699835d0245fede2c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">565</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://auth.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://token.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKeyUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"token-key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showLinkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSslValidation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartySecret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scopes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"issuer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UAA Provider"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">826</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://auth.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://token.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKeyUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"token-key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showLinkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSslValidation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartySecret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scopes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"issuer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkTokenUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6a1b9b91-4e41-4bca-9111-957486fda55e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UAA Provider"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450041</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450041</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">&quot;oauth2.0&quot;</code> or <code class="prettyprint">&quot;oidc1.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for a OAuth provider</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 authorization endpoint URL</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 token endpoint URL</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Optional</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Optional</td>
<td>A verification key for validating token signatures</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>A flag controlling whether a link to this provider&rsquo;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth/OpenID provider. For example, can provide <code class="prettyprint">openid</code>, <code class="prettyprint">roles</code>, or <code class="prettyprint">profile</code> to request ID token, scopes populated in the ID token external groups attribute mappings, or the user profile information, respectively.</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth use.</td>
</tr>
<tr>
<td>config.userInfoUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OIDC use.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code class="prettyprint">external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;preferred_username&quot;</code>)</td>
<td>Map <code class="prettyprint">user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">&quot;oauth2.0&quot;</code> or <code class="prettyprint">&quot;oidc1.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for a OAuth provider</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 authorization endpoint URL</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 token endpoint URL</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Optional</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Optional</td>
<td>A verification key for validating token signatures</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>A flag controlling whether a link to this provider&rsquo;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth/OpenID provider. For example, can provide <code class="prettyprint">openid</code>, <code class="prettyprint">roles</code>, or <code class="prettyprint">profile</code> to request ID token, scopes populated in the ID token external groups attribute mappings, or the user profile information, respectively.</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth use.</td>
</tr>
<tr>
<td>config.userInfoUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OIDC use.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code class="prettyprint">external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>String</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;preferred_username&quot;</code>)</td>
<td>Map <code class="prettyprint">user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<h2 id="retrieve-all">Retrieve All</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers?rawConfig=true'</span> -i -H <span class="s1">'Authorization: Bearer 714abdc9a445410f8277d322788e20be'</span> -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/identity-providers?rawConfig=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 714abdc9a445410f8277d322788e20be</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4848</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metaDataLocation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/SAML\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"idpEntityAlias"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nameID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assertionConsumerIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadataTrustCheck"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showSamlLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socketFactoryClassName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IDPEndpointsMockTests Saml Provider:SAML"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iconUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupMappingMode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPLICITLY_MAPPED"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d37665fe-3a81-4c1c-9bfc-877f9cd48f03"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SAML name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448681</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364448681</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"keystone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c8fa999e-8607-47d8-86a5-f6d054deca7f"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"keystone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"keystone"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364436202</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a599b76d-80c5-4d94-b559-03ee52f9cbb6"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364436708</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"login-server"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"77a0a8f2-8d59-42ec-8d52-7358424eb6bb"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"login-server"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"login-server"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364436723</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://auth.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://token.url"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKeyUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tokenKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"token-key"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showLinkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"skipSslValidation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartyId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"relyingPartySecret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scopes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"issuer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkTokenUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6a1b9b91-4e41-4bca-9111-957486fda55e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"UAA Provider"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450041</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450041</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6e202c53-3ed6-4d7e-aa30-a4af7f52883f"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364436731</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">zones.&lt;zone id&gt;.idps.read</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.read</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">zones.&lt;zone id&gt;.idps.read</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].type</td>
<td>String</td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td>[].originKey</td>
<td>String</td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>[].config</td>
<td>Varies</td>
<td>Json config for the Identity Provider</td>
</tr>
<tr>
<td>[].version</td>
<td>Number</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>[].active</td>
<td>Boolean</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>[].id</td>
<td>String</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td>[].identityZoneId</td>
<td>String</td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td>[].created</td>
<td>Number</td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td>[].last_modified</td>
<td>Number</td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="retrieve">Retrieve</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers/7fd4582f-b40a-4efc-a17f-43588d049c21?rawConfig=true'</span> -i -H <span class="s1">'Authorization: Bearer 808818c7c37b427494b7ea245f05491c'</span> -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/identity-providers/7fd4582f-b40a-4efc-a17f-43588d049c21?rawConfig=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 808818c7c37b427494b7ea245f05491c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2976</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metaDataLocation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/saml-for-get\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"idpEntityAlias"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-get"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nameID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assertionConsumerIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadataTrustCheck"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showSamlLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socketFactoryClassName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IDPEndpointsMockTests Saml Provider:saml-for-get"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iconUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupMappingMode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPLICITLY_MAPPED"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7fd4582f-b40a-4efc-a17f-43588d049c21"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-get"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-get name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364449915</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364449915</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">zones.&lt;zone id&gt;.idps.read</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.read</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">zones.&lt;zone id&gt;.idps.read</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td>config</td>
<td>Object</td>
<td>Various configuration properties for the identity provider.</td>
</tr>
<tr>
<td>config.additionalConfiguration</td>
<td>Object</td>
<td>(Unused.)</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td>identityZoneId</td>
<td>String</td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td>created</td>
<td>Number</td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td>last_modified</td>
<td>Number</td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="update">Update</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers/6e202c53-3ed6-4d7e-aa30-a4af7f52883f'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer f2ad4d7e978e41b08aa5f4e7e4fbd5e8'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{"type":"uaa","config":{"emailDomain":null,"providerDescription":null,"passwordPolicy":null,"lockoutPolicy":{"lockoutPeriodSeconds":8,"lockoutAfterFailures":8,"countFailuresWithin":8},"disableInternalUserManagement":false},"originKey":"uaa","name":"uaa","version":1,"active":true}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/identity-providers/6e202c53-3ed6-4d7e-aa30-a4af7f52883f</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer f2ad4d7e978e41b08aa5f4e7e4fbd5e8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">280</span>

<span class="p">{</span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"uaa"</span><span class="p">,</span><span class="nt">"config"</span><span class="p">:{</span><span class="nt">"emailDomain"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nt">"providerDescription"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nt">"passwordPolicy"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nt">"lockoutPolicy"</span><span class="p">:{</span><span class="nt">"lockoutPeriodSeconds"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="nt">"lockoutAfterFailures"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="nt">"countFailuresWithin"</span><span class="p">:</span><span class="mi">8</span><span class="p">},</span><span class="nt">"disableInternalUserManagement"</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nt">"originKey"</span><span class="p">:</span><span class="s2">"uaa"</span><span class="p">,</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"uaa"</span><span class="p">,</span><span class="nt">"version"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">559</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lockoutPolicy"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lockoutPeriodSeconds"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lockoutAfterFailures"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nt">"countFailuresWithin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"disableInternalUserManagement"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6e202c53-3ed6-4d7e-aa30-a4af7f52883f"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">946684800000</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450920</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<aside class="notice">
  This example is for updating the internal (uaa) identity provider. <br/>
  For SAML refer to <a href="#saml">SAML Provider Fields. </a> <br/>
  For LDAP identity provider refer to <a href="#ldap">LDAP Provider Fields. </a>
</aside>

<p><em>Request and Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code class="prettyprint">uaa</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique identifier for the IDP. Cannot be updated.</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Required</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>config.passwordPolicy.minLength</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Minimum number of characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.maxLength</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Maximum number of characters required for password to be considered valid (defaults to 255).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireUpperCaseCharacter</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Minimum number of uppercase characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireLowerCaseCharacter</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Minimum number of lowercase characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireDigit</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Minimum number of digits required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireSpecialCharacter</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Minimum number of special characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.expirePasswordInMonths</td>
<td>Number</td>
<td>Required when <code class="prettyprint">passwordPolicy</code> in the config is not null</td>
<td>Number of months after which current password expires (defaults to 0).</td>
</tr>
<tr>
<td>config.lockoutPolicy.lockoutPeriodSeconds</td>
<td>Number</td>
<td>Required when <code class="prettyprint">LockoutPolicy</code> in the config is not null</td>
<td>Number of allowed failures before account is locked (defaults to 5).</td>
</tr>
<tr>
<td>config.lockoutPolicy.lockoutAfterFailures</td>
<td>Number</td>
<td>Required when <code class="prettyprint">LockoutPolicy</code> in the config is not null</td>
<td>Number of seconds in which lockoutAfterFailures failures must occur in order for account to be locked (defaults to 3600).</td>
</tr>
<tr>
<td>config.lockoutPolicy.countFailuresWithin</td>
<td>Number</td>
<td>Required when <code class="prettyprint">LockoutPolicy</code> in the config is not null</td>
<td>Number of seconds to lock out an account when lockoutAfterFailures failures is exceeded (defaults to 300).</td>
</tr>
<tr>
<td>config.disableInternalUserManagement</td>
<td>Boolean</td>
<td>Optional</td>
<td>When set to true, user management is disabled for this provider, defaults to false</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid config</td>
</tr>
</tbody></table>

<h2 id="delete">Delete</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/identity-providers/5d591236-cd9b-42bd-a579-0cff10db600a'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer fce090bd68534adca511084b135be0b0'</span> -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/identity-providers/5d591236-cd9b-42bd-a579-0cff10db600a</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer fce090bd68534adca511084b135be0b0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2991</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"config"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"emailDomain"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"additionalConfiguration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"providerDescription"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroupsWhitelist"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"attributeMappings"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"addShadowUserOnLogin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metaDataLocation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"http://www.okta.com/saml-for-delete\"&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"&gt;&lt;md:KeyDescriptor use=\"signing\"&gt;&lt;ds:KeyInfo xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;md:SingleSignOnService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\"/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"idpEntityAlias"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-delete"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nameID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"assertionConsumerIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadataTrustCheck"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"showSamlLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"socketFactoryClassName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"linkText"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"IDPEndpointsMockTests Saml Provider:saml-for-delete"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iconUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupMappingMode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPLICITLY_MAPPED"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5d591236-cd9b-42bd-a579-0cff10db600a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"originKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"saml-for-delete name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450845</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_modified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364450845</span><span class="p">,</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"identityZoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> or <code class="prettyprint">idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code class="prettyprint">config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td>config</td>
<td>Object</td>
<td>Various configuration properties for the identity provider.</td>
</tr>
<tr>
<td>config.additionalConfiguration</td>
<td>Object</td>
<td>(Unused.)</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td>identityZoneId</td>
<td>String</td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td>created</td>
<td>Number</td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td>last_modified</td>
<td>Number</td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
</tr>
</tbody></table>

<h1 id="users">Users</h1>

<p>Users can be queried, created and updated via the <code class="prettyprint">/Users</code> endpoint.</p>

<h2 id="list">List</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users?filter=id+eq+%2202da5573-64f5-4887-9acb-c167afe44ca8%22+or+email+eq+%224nMYCI%40test.org%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1'</span> -i -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Authorization: Bearer decd8e775e2048ae8fd9a686b059cf2d'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Users?filter=id+eq+%2202da5573-64f5-4887-9acb-c167afe44ca8%22+or+email+eq+%224nMYCI%40test.org%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer decd8e775e2048ae8fd9a686b059cf2d</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2885</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"02da5573-64f5-4887-9acb-c167afe44ca8"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.128Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.128Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4nMYCI@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4nMYCI@test.org"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d42cfca3-7108-49b4-91d8-f76fad1328b3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b066910b-7890-4a76-befe-2dafd720afd0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user_attributes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a1447fd3-3f9b-4eb4-a268-e175d8d5ecb8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approvals.me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9c2b6aa0-c692-4f7d-ac77-bdccb15b5626"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.offline_token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3dbaa4e7-d7fa-4b5d-89d9-3fa38b6bdcde"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.write"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e1462b39-bd1b-40e2-a564-9b5e9320a014"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password.write"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c04b107a-6829-46db-a943-0b39f2bc2440"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4837fd28-0d3c-4cab-a270-b8a3af25a939"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.read"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7f827a21-3d67-4c26-ab49-74709ef5e97e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"roles"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"23b9ad28-87dd-4222-be37-200e46692cff"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c0f8e11f-ef98-42ca-8406-42ca7537040c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller_service_permissions.read"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"881a903d-8b32-41b8-84a7-62ce6f2ca09f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"43a5a6e3-82c2-4458-8cd1-fb9b98caeeb5"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth.approvals"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6ad7ab9f-abc1-41c9-b668-e31bddc2a2b1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.me"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"approvals"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"02da5573-64f5-4887-9acb-c167afe44ca8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"client id"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.read"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.139Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expiresAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:06.139Z"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"itemsPerPage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with scim.read or uaa.admin required</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Optional</td>
<td>SCIM filter for searching</td>
</tr>
<tr>
<td>sortBy</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">created</code>)</td>
<td>Sorting field name, like email or id</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">ascending</code>)</td>
<td>Sort order, ascending/descending</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">1</code>)</td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">100</code>)</td>
<td>Max number of results to be returned</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td>itemsPerPage</td>
<td>Number</td>
<td>The maximum number of items returned per request.</td>
</tr>
<tr>
<td>totalResults</td>
<td>Number</td>
<td>Number of results in result set.</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td>SCIM Schemas used, currently always set to [ &ldquo;urn:scim:schemas:core:1.0&rdquo; ]</td>
</tr>
<tr>
<td>resources</td>
<td>Array</td>
<td>A list of SCIM user objects retrieved by the search.</td>
</tr>
<tr>
<td>resources[].id</td>
<td>String</td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td>resources[].userName</td>
<td>String</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>resources[].name</td>
<td>Object</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>resources[].name.familyName</td>
<td>String</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>resources[].name.givenName</td>
<td>String</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>resources[].phoneNumbers</td>
<td>Array</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>resources[].phoneNumbers[].value</td>
<td>String</td>
<td>The phone number.</td>
</tr>
<tr>
<td>resources[].emails</td>
<td>Array</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>resources[].emails[].value</td>
<td>String</td>
<td>The email address.</td>
</tr>
<tr>
<td>resources[].emails[].primary</td>
<td>Boolean</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>resources[].groups</td>
<td>Array</td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td>resources[].groups[].value</td>
<td>String</td>
<td>Unique group identifier</td>
</tr>
<tr>
<td>resources[].groups[].display</td>
<td>String</td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td>resources[].groups[].type</td>
<td>String</td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td>resources[].approvals</td>
<td>Array</td>
<td>A list of approvals for this user. Approvals are user&rsquo;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td>resources[].approvals[].userId</td>
<td>String</td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td>resources[].approvals[].clientId</td>
<td>String</td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td>resources[].approvals[].scope</td>
<td>String</td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td>resources[].approvals[].status</td>
<td>String</td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td>resources[].approvals[].lastUpdatedAt</td>
<td>String</td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td>resources[].approvals[].expiresAt</td>
<td>String</td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td>resources[].active</td>
<td>Boolean</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>resources[].verified</td>
<td>Boolean</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>resources[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>resources[].zoneId</td>
<td>String</td>
<td>The zone this user belongs to. &#39;uaa&rsquo; is the default zone.</td>
</tr>
<tr>
<td>resources[].passwordLastModified</td>
<td>String</td>
<td>The timestamp this user&rsquo;s password was last changed.</td>
</tr>
<tr>
<td>resources[].externalId</td>
<td>String</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td>resources[].meta</td>
<td>String</td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td>resources[].meta.version</td>
<td>Number</td>
<td>Object version.</td>
</tr>
<tr>
<td>resources[].meta.lastModified</td>
<td>String</td>
<td>Object last modified date.</td>
</tr>
<tr>
<td>resources[].meta.created</td>
<td>String</td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.read is required to search user)</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac users
</code></pre>

<h2 id="create">Create</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users'</span> -i -X POST -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Authorization: Bearer fb91408f5872400390e105f071e5f5d8'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "externalId" : "test-user",
  "meta" : {
    "version" : 0,
    "created" : "2016-07-12T23:00:56.540Z"
  },
  "userName" : "lVHky5@test.org",
  "name" : {
    "formatted" : "given name family name",
    "familyName" : "family name",
    "givenName" : "given name"
  },
  "emails" : [ {
    "value" : "lVHky5@test.org",
    "primary" : true
  } ],
  "phoneNumbers" : [ {
    "value" : "5555555555"
  } ],
  "active" : true,
  "verified" : true,
  "origin" : "",
  "password" : "secret",
  "schemas" : [ "urn:scim:schemas:core:1.0" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/Users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer fb91408f5872400390e105f071e5f5d8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">537</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.540Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lVHky5@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"formatted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lVHky5@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"0"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2327</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"f14b29c0-89bd-4aef-bf50-6a3bef46d265"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.650Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.650Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lVHky5@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lVHky5@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d42cfca3-7108-49b4-91d8-f76fad1328b3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b066910b-7890-4a76-befe-2dafd720afd0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user_attributes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a1447fd3-3f9b-4eb4-a268-e175d8d5ecb8"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approvals.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9c2b6aa0-c692-4f7d-ac77-bdccb15b5626"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.offline_token"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3dbaa4e7-d7fa-4b5d-89d9-3fa38b6bdcde"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e1462b39-bd1b-40e2-a564-9b5e9320a014"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c04b107a-6829-46db-a943-0b39f2bc2440"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4837fd28-0d3c-4cab-a270-b8a3af25a939"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7f827a21-3d67-4c26-ab49-74709ef5e97e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"roles"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"23b9ad28-87dd-4222-be37-200e46692cff"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c0f8e11f-ef98-42ca-8406-42ca7537040c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller_service_permissions.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"881a903d-8b32-41b8-84a7-62ce6f2ca09f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"43a5a6e3-82c2-4458-8cd1-fb9b98caeeb5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth.approvals"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6ad7ab9f-abc1-41c9-b668-e31bddc2a2b1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"approvals"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>String</td>
<td>Required</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>User&rsquo;s password.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>Required</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>Required</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>Required</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>Optional</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>Optional</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>Required</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>Optional</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>schemas</td>
<td>Array</td>
<td>SCIM Schemas used, currently always set to [ &ldquo;urn:scim:schemas:core:1.0&rdquo; ]</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td>userName</td>
<td>String</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>groups</td>
<td>Array</td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td>groups[].value</td>
<td>String</td>
<td>Unique group identifier</td>
</tr>
<tr>
<td>groups[].display</td>
<td>String</td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td>groups[].type</td>
<td>String</td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td>approvals</td>
<td>Array</td>
<td>A list of approvals for this user. Approvals are user&rsquo;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>The zone this user belongs to. &#39;uaa&rsquo; is the default zone.</td>
</tr>
<tr>
<td>passwordLastModified</td>
<td>String</td>
<td>The timestamp this user&rsquo;s password was last changed.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td>meta</td>
<td>String</td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>Object version.</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>Object last modified date.</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to create a user)</td>
</tr>
<tr>
<td>409</td>
<td>Username already exists</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user add testuser --given_name About --family_name Schmidt --emails testuser@test.org --password secret
</code></pre>

<h2 id="update">Update</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users/9eea6e37-a34c-49a0-ac89-e645526db151'</span> -i -X PUT -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Authorization: Bearer 04df68f422d149fb9a2770e08a9794d5'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'If-Match: 0'</span> -d <span class="s1">'{
  "id" : "9eea6e37-a34c-49a0-ac89-e645526db151",
  "externalId" : "test-user",
  "meta" : {
    "version" : 0,
    "created" : "2016-07-12T23:00:56.315Z",
    "lastModified" : "2016-07-12T23:00:56.315Z"
  },
  "userName" : "C1JsBG@test.org",
  "name" : {
    "familyName" : "family name",
    "givenName" : "given name"
  },
  "emails" : [ {
    "value" : "C1JsBG@test.org",
    "primary" : false
  } ],
  "groups" : [ ],
  "approvals" : [ ],
  "phoneNumbers" : [ {
    "value" : "5555555555"
  } ],
  "active" : true,
  "verified" : true,
  "origin" : "uaa",
  "zoneId" : "uaa",
  "passwordLastModified" : "2016-07-12T23:00:56.000Z",
  "schemas" : [ "urn:scim:schemas:core:1.0" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/Users/9eea6e37-a34c-49a0-ac89-e645526db151</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 04df68f422d149fb9a2770e08a9794d5</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">684</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9eea6e37-a34c-49a0-ac89-e645526db151"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.315Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.315Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"C1JsBG@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"C1JsBG@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"approvals"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"1"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2804</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9eea6e37-a34c-49a0-ac89-e645526db151"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.315Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.359Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"C1JsBG@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"C1JsBG@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d42cfca3-7108-49b4-91d8-f76fad1328b3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b066910b-7890-4a76-befe-2dafd720afd0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user_attributes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a1447fd3-3f9b-4eb4-a268-e175d8d5ecb8"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approvals.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9c2b6aa0-c692-4f7d-ac77-bdccb15b5626"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.offline_token"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3dbaa4e7-d7fa-4b5d-89d9-3fa38b6bdcde"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e1462b39-bd1b-40e2-a564-9b5e9320a014"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c04b107a-6829-46db-a943-0b39f2bc2440"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4837fd28-0d3c-4cab-a270-b8a3af25a939"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7f827a21-3d67-4c26-ab49-74709ef5e97e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"roles"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"23b9ad28-87dd-4222-be37-200e46692cff"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c0f8e11f-ef98-42ca-8406-42ca7537040c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller_service_permissions.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"881a903d-8b32-41b8-84a7-62ce6f2ca09f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"43a5a6e3-82c2-4458-8cd1-fb9b98caeeb5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth.approvals"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6ad7ab9f-abc1-41c9-b668-e31bddc2a2b1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"approvals"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9eea6e37-a34c-49a0-ac89-e645526db151"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"client id"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.332Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiresAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:06.332Z"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9eea6e37-a34c-49a0-ac89-e645526db151"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DENIED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:26.336Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiresAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:26.336Z"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:56.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td>If-Match</td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>String</td>
<td>Required</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>Required</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>Required</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>Required</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>Optional</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>Optional</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>Required</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">true</code>)</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>Optional</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>schemas</td>
<td>Array</td>
<td>SCIM Schemas used, currently always set to [ &ldquo;urn:scim:schemas:core:1.0&rdquo; ]</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td>userName</td>
<td>String</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>groups</td>
<td>Array</td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td>groups[].value</td>
<td>String</td>
<td>Unique group identifier</td>
</tr>
<tr>
<td>groups[].display</td>
<td>String</td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td>groups[].type</td>
<td>String</td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td>approvals</td>
<td>Array</td>
<td>A list of approvals for this user. Approvals are user&rsquo;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td>approvals[].userId</td>
<td>String</td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td>approvals[].clientId</td>
<td>String</td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td>approvals[].scope</td>
<td>String</td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td>approvals[].status</td>
<td>String</td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td>approvals[].lastUpdatedAt</td>
<td>String</td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td>approvals[].expiresAt</td>
<td>String</td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>The zone this user belongs to. &#39;uaa&rsquo; is the default zone.</td>
</tr>
<tr>
<td>passwordLastModified</td>
<td>String</td>
<td>The timestamp this user&rsquo;s password was last changed.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td>meta</td>
<td>String</td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>Object version.</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>Object last modified date.</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to create a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user update testuser --given_name About --family_name Schmidt --emails testuser@test.org --phones 415-555-1212
</code></pre>

<h2 id="delete">Delete</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users/473cbc84-37da-4599-b27a-7967423461b1'</span> -i -X DELETE -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Authorization: Bearer 03e5057283e0496798f4819bdbc2dbcb'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'If-Match: 0'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/Users/473cbc84-37da-4599-b27a-7967423461b1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 03e5057283e0496798f4819bdbc2dbcb</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"0"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">2806</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"473cbc84-37da-4599-b27a-7967423461b1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"test-user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.190Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.190Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"TcoTD9@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"family name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"given name"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"TcoTD9@test.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d42cfca3-7108-49b4-91d8-f76fad1328b3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.userids"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"b066910b-7890-4a76-befe-2dafd720afd0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user_attributes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a1447fd3-3f9b-4eb4-a268-e175d8d5ecb8"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approvals.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9c2b6aa0-c692-4f7d-ac77-bdccb15b5626"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.offline_token"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3dbaa4e7-d7fa-4b5d-89d9-3fa38b6bdcde"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e1462b39-bd1b-40e2-a564-9b5e9320a014"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password.write"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c04b107a-6829-46db-a943-0b39f2bc2440"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4837fd28-0d3c-4cab-a270-b8a3af25a939"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7f827a21-3d67-4c26-ab49-74709ef5e97e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"roles"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"23b9ad28-87dd-4222-be37-200e46692cff"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c0f8e11f-ef98-42ca-8406-42ca7537040c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_controller_service_permissions.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"881a903d-8b32-41b8-84a7-62ce6f2ca09f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"43a5a6e3-82c2-4458-8cd1-fb9b98caeeb5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"oauth.approvals"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6ad7ab9f-abc1-41c9-b668-e31bddc2a2b1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.me"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DIRECT"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"approvals"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"473cbc84-37da-4599-b27a-7967423461b1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"identity"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa.user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:25.205Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiresAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:25.205Z"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"473cbc84-37da-4599-b27a-7967423461b1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"client id"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"scim.read"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.202Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiresAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:01:05.202Z"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"phoneNumbers"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td>If-Match</td>
<td>The version of the SCIM object to be deleted. Optional.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>schemas</td>
<td>Array</td>
<td>SCIM Schemas used, currently always set to [ &ldquo;urn:scim:schemas:core:1.0&rdquo; ]</td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td>userName</td>
<td>String</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>A map with the user&rsquo;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>The user&rsquo;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>The user&rsquo;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>The user&rsquo;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>The user&rsquo;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Set to true if this is the user&rsquo;s primary email address.</td>
</tr>
<tr>
<td>groups</td>
<td>Array</td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td>groups[].value</td>
<td>String</td>
<td>Unique group identifier</td>
</tr>
<tr>
<td>groups[].display</td>
<td>String</td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td>groups[].type</td>
<td>String</td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td>approvals</td>
<td>Array</td>
<td>A list of approvals for this user. Approvals are user&rsquo;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td>approvals[].userId</td>
<td>String</td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td>approvals[].clientId</td>
<td>String</td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td>approvals[].scope</td>
<td>String</td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td>approvals[].status</td>
<td>String</td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td>approvals[].lastUpdatedAt</td>
<td>String</td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td>approvals[].expiresAt</td>
<td>String</td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&rsquo; is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>The zone this user belongs to. &#39;uaa&rsquo; is the default zone.</td>
</tr>
<tr>
<td>passwordLastModified</td>
<td>String</td>
<td>The timestamp this user&rsquo;s password was last changed.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td>meta</td>
<td>String</td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>Object version.</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>Object last modified date.</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to create a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user delete testuser
</code></pre>

<h2 id="user-info">User Info</h2>

<p>An OAuth2 protected resource and an OpenID Connect endpoint. Given an appropriate access_token, returns information about a user. Defined fields include various standard user profile fields. The response may include other user information such as group membership.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/userinfo'</span> -i -H <span class="s1">'Authorization: Bearer d285a27021a04c3e9d241d37a287e28d'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/userinfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer d285a27021a04c3e9d241d37a287e28d</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">302</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e2192e82-0fa8-4109-846d-49ae059a5f85"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Ou8tPY@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"given_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PasswordResetUserFirst"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"family_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PasswordResetUserLast"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Ou8tPY@test.org"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone_number"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"+15558880000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PasswordResetUserFirst PasswordResetUserLast"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with openid required</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>String</td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>The user���s email address.</td>
</tr>
<tr>
<td>user_name</td>
<td>String</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>given_name</td>
<td>String</td>
<td>The user���s first name.</td>
</tr>
<tr>
<td>family_name</td>
<td>String</td>
<td>The user���s last name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A map with the user���s first name and last name.</td>
</tr>
<tr>
<td>phone_number</td>
<td>String</td>
<td>The user&rsquo;s phone number</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (openid is required to get the user info)</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view user info:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token authcode get admin -s adminsecret

uaac curl -X GET /userinfo -k
</code></pre>

<h2 id="change-user-password">Change user password</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users/4a3c6acd-f150-4659-9ffa-6ba5fdc1ebf8/password'</span> -i -X PUT -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Authorization: Bearer 3c8d0f02de4a495d95401adbc9fe7532'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'If-Match: 0'</span> -d <span class="s1">'{
  "oldPassword" : "secret",
  "password" : "newsecret"
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/Users/4a3c6acd-f150-4659-9ffa-6ba5fdc1ebf8/password</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 3c8d0f02de4a495d95401adbc9fe7532</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">58</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"oldPassword"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"newsecret"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">55</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"password updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Access token with password.write or uaa.admin required</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oldPassword</td>
<td>String</td>
<td>Required</td>
<td>Old password.</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>New password.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>String</td>
<td>Will be &#39;ok&rsquo; if password changed successfully.</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>Will be &#39;password updated&rsquo; if password changed successfully.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write or a token containing the user id is required to create a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>
<pre class="highlight shell"><code>uaac target http://localhost:8080/uaa

uaac token owner get cf testuser -s <span class="s2">""</span> -p <span class="s2">"secret"</span>

uaac password change -o secret -p newsecret
</code></pre>

<h2 id="get-user-verification-link">Get user verification link</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users/27db3d5d-f60b-47e2-838f-fbdd226493a4/verify-link?redirect_uri=http%3A%2F%2Fredirect.to%2Fapp'</span> -i -H <span class="s1">'Authorization: Bearer 39ebfe5133fb4c61870368d9eb522314'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Users/27db3d5d-f60b-47e2-838f-fbdd226493a4/verify-link?redirect_uri=http%3A%2F%2Fredirect.to%2Fapp</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 39ebfe5133fb4c61870368d9eb522314</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">68</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"verify_link"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/verify_user?code=TqNmaHRoAr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/verify-link</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The ID of the user to verify</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>The bearer token, with a pre-amble of <code class="prettyprint">Bearer</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required</td>
<td>Location where the user will be redirected after verifying by clicking the verification link</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>verify_link</td>
<td>String</td>
<td>Location the user must visit and authenticate to verify</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope or internal user management disabled</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - User not found</td>
</tr>
</tbody></table>

<h2 id="verify-user">Verify user</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Users/feebeec3-28ba-44ae-9c3f-ea3cffc5c651/verify'</span> -i -H <span class="s1">'Authorization: Bearer f0915fb71be74738908886065236d93c'</span> -H <span class="s1">'If-Match: 12'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Users/feebeec3-28ba-44ae-9c3f-ea3cffc5c651/verify</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer f0915fb71be74738908886065236d93c</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">12</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"12"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">561</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"feebeec3-28ba-44ae-9c3f-ea3cffc5c651"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.020Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.020Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"billy_o@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"d'Orange"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"William"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"billy_o@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:55.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/verify</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The ID of the user to verify</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>The bearer token, with a pre-amble of <code class="prettyprint">Bearer</code></td>
</tr>
<tr>
<td>If-Match</td>
<td>(Optional) The expected current version of the user, which will prevent update if the version does not match</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope or internal user management disabled</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - User not found</td>
</tr>
</tbody></table>

<h2 id="lookup-user-ids-usernames">Lookup User IDs/Usernames</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/ids/Users?filter=userName+eq+%22bobb7ENF9%40test.org%22+or+id+eq+%225db3304d-0d4c-4836-b477-00177e8bce77%22&amp;sortOrder=descending&amp;startIndex=1&amp;count=10&amp;includeInactive=true'</span> -i -H <span class="s1">'Authorization: Bearer 15013cd8660a43d0bf5f4c53001bdca4'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/ids/Users?filter=userName+eq+%22bobb7ENF9%40test.org%22+or+id+eq+%225db3304d-0d4c-4836-b477-00177e8bce77%22&amp;sortOrder=descending&amp;startIndex=1&amp;count=10&amp;includeInactive=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 15013cd8660a43d0bf5f4c53001bdca4</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">373</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5db3304d-0d4c-4836-b477-00177e8bce77"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dwayneq5xLWA@test.org"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"83b23d5a-41c9-4ec2-b0ec-24ae713a9698"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bobb7ENF9@test.org"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"itemsPerPage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with authorization for <code class="prettyprint">scim.userids</code> scope</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Required</td>
<td>SCIM filter for users over <code class="prettyprint">userName</code>, <code class="prettyprint">id</code>, and <code class="prettyprint">origin</code>, using only the <code class="prettyprint">eq</code> comparison operator</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">ascending</code>)</td>
<td>sort by username in <code class="prettyprint">ascending</code> or <code class="prettyprint">descending</code> order</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">1</code>)</td>
<td>display paged results beginning at specified index</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">100</code>)</td>
<td>number of results to return per page</td>
</tr>
<tr>
<td>includeInactive</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>include users from inactive identity providers</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>totalResults</td>
<td>Number</td>
<td>The number of results which matched the filter</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>The index of the first item of this page of results</td>
</tr>
<tr>
<td>itemsPerPage</td>
<td>Number</td>
<td>The page size used in producing this page of results</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
<tr>
<td>resources[].id</td>
<td>String</td>
<td>The globally unique identifier for this user</td>
</tr>
<tr>
<td>resources[].userName</td>
<td>String</td>
<td>The username</td>
</tr>
<tr>
<td>resources[].origin</td>
<td>String</td>
<td>The origin of the user, e.g. an identity provider alias</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Request was invalid or unparseable</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="invite-users">Invite users</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/invite_users?client_id=dezoix&amp;redirect_uri=example.com'</span> -i -X POST -H <span class="s1">'Authorization: Bearer 860c8fbaaf614ba4b7c469cea7c2d409'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "emails" : [ "user1@hnglqf.com", "user2@hnglqf.com" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/invite_users?client_id=dezoix&amp;redirect_uri=example.com</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 860c8fbaaf614ba4b7c469cea7c2d409</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">59</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"user1@hnglqf.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"user2@hnglqf.com"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">578</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"new_invites"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user1@hnglqf.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"8bc673cc-5aa1-48e6-8302-78000d063d55"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errorCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errorMessage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"inviteLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/invitations/accept?code=CEXdvaWMno"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"user2@hnglqf.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"userId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"bb0b2015-56bc-4af4-a97e-481d4277c08f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"success"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errorCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errorMessage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"inviteLink"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/invitations/accept?code=p1SaYMWsie"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"failed_invites"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">scim.invite</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>User is invited by providing an email address. More than one email addresses can be provided.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required</td>
<td>The user will be redirected to this uri, when user accepts the invitation. The redirect_uri will be validated against allowed redirect_uri for the client.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>new_invites[].email</td>
<td>String</td>
<td>Primary email id of the invited user</td>
</tr>
<tr>
<td>new_invites[].userId</td>
<td>String</td>
<td>A unique string for the invited user</td>
</tr>
<tr>
<td>new_invites[].origin</td>
<td>String</td>
<td>Unique alias of the provider</td>
</tr>
<tr>
<td>new_invites[].success</td>
<td>Boolean</td>
<td>Flag to determine whether the invitation was sent successfully</td>
</tr>
<tr>
<td>new_invites[].errorCode</td>
<td>String</td>
<td>Error code in case of failure to send invitation</td>
</tr>
<tr>
<td>new_invites[].errorMessage</td>
<td>String</td>
<td>Error message in case of failure to send invitation</td>
</tr>
<tr>
<td>new_invites[].inviteLink</td>
<td>String</td>
<td>Invitation link to invite users</td>
</tr>
<tr>
<td>failed_invites</td>
<td>String</td>
<td>List of invites having exception in sending the invitation</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h1 id="groups">Groups</h1>

<h2 id="create">Create</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups'</span> -i -X POST -H <span class="s1">'Authorization: Bearer dcef4819d3704a9b8b04319092bcb275'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "displayName" : "Cool Group Name",
  "description" : "the cool group",
  "members" : [ {
    "origin" : "uaa",
    "type" : "USER",
    "value" : "344bc255-8809-42ca-a0a6-8602213ef285"
  } ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/Groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer dcef4819d3704a9b8b04319092bcb275</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">196</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cool Group Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"0"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">441</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0393bbd5-3512-414a-af09-bb2f59dede39"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cool Group Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.write</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>String</td>
<td>Required</td>
<td>An identifier, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Optional</td>
<td>Members to be included in the group</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Required for each item in <code class="prettyprint">members</code></td>
<td>The globally-unique ID of the member entity, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;USER&quot;</code>)</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Array of group members</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="retrieve">Retrieve</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39'</span> -i -H <span class="s1">'Authorization: Bearer 8dc004b234d44328a107228f3df48eaa'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 8dc004b234d44328a107228f3df48eaa</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"1"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">454</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0393bbd5-3512-414a-af09-bb2f59dede39"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.504Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cooler Group Name for Update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>Globally unique identifier of the group to retrieve</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.read</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Array of group members</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="update">Update</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer dcef4819d3704a9b8b04319092bcb275'</span> -H <span class="s1">'If-Match: 0'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{
  "displayName" : "Cooler Group Name for Update",
  "description" : "the cool group",
  "members" : [ {
    "origin" : "uaa",
    "type" : "USER",
    "value" : "344bc255-8809-42ca-a0a6-8602213ef285"
  } ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer dcef4819d3704a9b8b04319092bcb275</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">209</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cooler Group Name for Update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"1"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">454</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0393bbd5-3512-414a-af09-bb2f59dede39"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.504Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cooler Group Name for Update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>Globally unique identifier of the group to update</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.write</code> or <code class="prettyprint">groups.update</code></td>
</tr>
<tr>
<td>If-Match</td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>String</td>
<td>Required</td>
<td>An identifier, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Optional</td>
<td>Members to be included in the group</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Required for each item in <code class="prettyprint">members</code></td>
<td>The globally-unique ID of the member entity, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;USER&quot;</code>)</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Array of group members</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="delete">Delete</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer dcef4819d3704a9b8b04319092bcb275'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer dcef4819d3704a9b8b04319092bcb275</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"1"</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">454</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0393bbd5-3512-414a-af09-bb2f59dede39"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.504Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cooler Group Name for Update"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.write</code></td>
</tr>
<tr>
<td>If-Match</td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Array of group members</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>zoneId</td>
<td>String</td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="list">List</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups?filter=id+eq+%220393bbd5-3512-414a-af09-bb2f59dede39%22+or+displayName+eq+%22Cooler+Group+Name+for+Update%22&amp;sortBy=lastModified&amp;count=50&amp;sortOrder=descending&amp;startIndex=1'</span> -i -H <span class="s1">'Authorization: Bearer 8dc004b234d44328a107228f3df48eaa'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Groups?filter=id+eq+%220393bbd5-3512-414a-af09-bb2f59dede39%22+or+displayName+eq+%22Cooler+Group+Name+for+Update%22&amp;sortBy=lastModified&amp;count=50&amp;sortOrder=descending&amp;startIndex=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 8dc004b234d44328a107228f3df48eaa</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">622</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0393bbd5-3512-414a-af09-bb2f59dede39"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.467Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.504Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Cooler Group Name for Update"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the cool group"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"members"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"itemsPerPage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.read</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resources[].id</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>resources[].displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>resources[].description</td>
<td>String</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>resources[].members</td>
<td>Array</td>
<td>Array of group members</td>
</tr>
<tr>
<td>resources[].members[].value</td>
<td>String</td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td>resources[].members[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>resources[].members[].origin</td>
<td>String</td>
<td>The alias of the identity provider that authenticated this user. <code class="prettyprint">&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>resources[].zoneId</td>
<td>String</td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td>resources[].meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>resources[].meta.created</td>
<td>String</td>
<td>The time the group was created</td>
</tr>
<tr>
<td>resources[].meta.lastModified</td>
<td>String</td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td>resources[].schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
<tr>
<td>itemsPerPage</td>
<td>Number</td>
<td>The page-size used to produce the current page of results</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>The index of the first result of this page within all matches</td>
</tr>
<tr>
<td>totalResults</td>
<td>Number</td>
<td>The number of groups that matched the given filter</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid attributes</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h2 id="check-membership">Check Membership</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members/344bc255-8809-42ca-a0a6-8602213ef285'</span> -i -H <span class="s1">'Authorization: Bearer 8dc004b234d44328a107228f3df48eaa'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members/344bc255-8809-42ca-a0a6-8602213ef285</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 8dc004b234d44328a107228f3df48eaa</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">93</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members/{memberId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
<tr>
<td>memberId</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code class="prettyprint">groupId</code></td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.read</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code class="prettyprint">groupId</code></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code class="prettyprint">value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>The originating IDP of the entity, or <code class="prettyprint">&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Group does not exist, or the entity is not a member</td>
</tr>
</tbody></table>

<h2 id="add-member">Add Member</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members'</span> -i -X POST -H <span class="s1">'Authorization: Bearer dcef4819d3704a9b8b04319092bcb275'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{"origin":"uaa","type":"USER","value":"344bc255-8809-42ca-a0a6-8602213ef285"}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer dcef4819d3704a9b8b04319092bcb275</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">77</span>

<span class="p">{</span><span class="nt">"origin"</span><span class="p">:</span><span class="s2">"uaa"</span><span class="p">,</span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"USER"</span><span class="p">,</span><span class="nt">"value"</span><span class="p">:</span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">93</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.write</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td>Required</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code class="prettyprint">groupId</code></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code class="prettyprint">value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Required</td>
<td>The originating IDP of the entity, or <code class="prettyprint">&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code class="prettyprint">groupId</code></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code class="prettyprint">value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>The originating IDP of the entity, or <code class="prettyprint">&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Specified group or member entity does not exist</td>
</tr>
</tbody></table>

<h2 id="remove-member">Remove Member</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members/344bc255-8809-42ca-a0a6-8602213ef285'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer dcef4819d3704a9b8b04319092bcb275'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members/344bc255-8809-42ca-a0a6-8602213ef285</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer dcef4819d3704a9b8b04319092bcb275</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">93</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members/{memberId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
<tr>
<td>memberId</td>
<td>The globally unique identifier of the entity, i.e. the user or group, to be removed from membership in the group specified by <code class="prettyprint">groupId</code></td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.write</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>String</td>
<td>The originating IDP of the entity</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>The globally unique identifier of the user or group which has been removed from the group specified by <code class="prettyprint">groupId</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Group does not exist, or the entity is not a member</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="list-members">List Members</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members?returnEntities=true'</span> -i -H <span class="s1">'Authorization: Bearer 8dc004b234d44328a107228f3df48eaa'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Groups/0393bbd5-3512-414a-af09-bb2f59dede39/members?returnEntities=true</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 8dc004b234d44328a107228f3df48eaa</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">707</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USER"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"entity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.440Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.440Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"userName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"KMsl9U"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"familyName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cool-familyName"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"givenName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cool-name"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"emails"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cool@chill.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"primary"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"verified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zoneId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwordLastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"344bc255-8809-42ca-a0a6-8602213ef285"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with scope <code class="prettyprint">scim.read</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>returnEntities</td>
<td>Boolean</td>
<td>Optional (defaults to <code class="prettyprint">false</code>)</td>
<td>Set to <code class="prettyprint">true</code> to return the SCIM entities which have membership in the group</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].value</td>
<td>String</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code class="prettyprint">groupId</code></td>
</tr>
<tr>
<td>[].type</td>
<td>String</td>
<td>Either <code class="prettyprint">&quot;USER&quot;</code> or <code class="prettyprint">&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code class="prettyprint">value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td>[].origin</td>
<td>String</td>
<td>The originating IDP of the entity, or <code class="prettyprint">&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
<tr>
<td>[].entity</td>
<td>Object</td>
<td>Present only if requested with <code class="prettyprint">returnEntities</code>; user or group with membership in the group</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid attributes</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Specified group does not exist</td>
</tr>
</tbody></table>

<h2 id="external-group-mappings">External Group Mappings</h2>

<h3 id="map">Map</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/External'</span> -i -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer eac24795e9424669af73d5aff7fbf96b'</span> -d <span class="s1">'{
  "meta" : {
    "version" : 0,
    "created" : "2016-07-12T23:00:54.149Z"
  },
  "groupId" : "5e26d8c2-f3cf-491c-b7cd-0783223bb7e3",
  "externalGroup" : "External group",
  "schemas" : [ "urn:scim:schemas:core:1.0" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/Groups/External</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer eac24795e9424669af73d5aff7fbf96b</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">221</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.149Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"groupId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5e26d8c2-f3cf-491c-b7cd-0783223bb7e3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalGroup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"External group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">362</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.158Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.158Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"groupId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5e26d8c2-f3cf-491c-b7cd-0783223bb7e3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalGroup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Group For Testing Creating External Group Mapping"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with authorization for <code class="prettyprint">scim.write</code> scope</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>String</td>
<td>Required</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>String</td>
<td>Required</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">&quot;ldap&quot;</code>)</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">0</code>)</td>
<td>The version of the group entity</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>String</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - External group or origin should not be null</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Incorrect group ID provided</td>
</tr>
</tbody></table>

<h3 id="unmap">Unmap</h3>

<h4 id="by-group-id">By group ID</h4>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/External/groupId/0c208703-8203-47db-96d8-2d153d53cf21/externalGroup/external%20group/origin/ldap'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer 487eae4b1fa244d6a763b9273e227ee0'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/Groups/External/groupId/0c208703-8203-47db-96d8-2d153d53cf21/externalGroup/external%20group/origin/ldap</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 487eae4b1fa244d6a763b9273e227ee0</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">362</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:53.906Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:53.906Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"groupId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0c208703-8203-47db-96d8-2d153d53cf21"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalGroup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Group For Testing Deleting External Group Mapping"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/External/groupId/{groupId}/externalGroup/{externalGroup}/origin/{origin}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>Unique alias of the identity provider</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with authorization for <code class="prettyprint">scim.write</code> scope</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>String</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - No such group ID, external group, origin combination</td>
</tr>
</tbody></table>

<h4 id="by-group-display-name">By group display name</h4>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/External/displayName/Group%20For%20Testing%20Deleting%20External%20Group%20Mapping%20By%20Name/externalGroup/external%20group/origin/ldap'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer bf47bd27be794b75bc1de41357a6ca8a'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/Groups/External/displayName/Group%20For%20Testing%20Deleting%20External%20Group%20Mapping%20By%20Name/externalGroup/external%20group/origin/ldap</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bf47bd27be794b75bc1de41357a6ca8a</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">370</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"meta"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.239Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T23:00:54.239Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"groupId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3b38d209-4a1a-421d-aded-3ef1fd7fd89e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"externalGroup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external group"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Group For Testing Deleting External Group Mapping By Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/External/displayName/{displayName}/externalGroup/{externalGroup}/origin/{origin}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>externalGroup</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>Unique alias of the identity provider</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with authorization for <code class="prettyprint">scim.write</code> scope</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>String</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>The version of the group entity</td>
</tr>
<tr>
<td>meta.created</td>
<td>String</td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td>meta.lastModified</td>
<td>String</td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - No such group display name, external group, origin combination</td>
</tr>
</tbody></table>

<h3 id="list">List</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/Groups/External?filter=group_id+eq+%22c4a41861-6c83-45a7-995e-64fb66565dce%22&amp;startIndex=1&amp;count=50'</span> -i -H <span class="s1">'Authorization: Bearer 2fdb296ab69a4b2e8970a96dfeb891dd'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/Groups/External?filter=group_id+eq+%22c4a41861-6c83-45a7-995e-64fb66565dce%22&amp;startIndex=1&amp;count=50</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 2fdb296ab69a4b2e8970a96dfeb891dd</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">334</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"displayName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Group For Testing Retrieving External Group Mappings"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"externalGroup"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external group"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"groupId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"c4a41861-6c83-45a7-995e-64fb66565dce"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"itemsPerPage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"urn:scim:schemas:core:1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token with authorization for <code class="prettyprint">scim.read</code> scope</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resources[].groupId</td>
<td>String</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>resources[].displayName</td>
<td>String</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>resources[].externalGroup</td>
<td>String</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>resources[].origin</td>
<td>String</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>The index of the first item of this page of results</td>
</tr>
<tr>
<td>itemsPerPage</td>
<td>Number</td>
<td>The page size used in producing this page of results</td>
</tr>
<tr>
<td>totalResults</td>
<td>Number</td>
<td>The number of results which matched the filter</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid filter expression</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>

<h1 id="clients">Clients</h1>

<h2 id="create">Create</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients'</span> -i -X POST -H <span class="s1">'Authorization: Bearer 6e9e961f0d01427e9943b5a196232e80'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'{
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "aPq3I1",
  "client_secret" : "secret",
  "authorized_grant_types" : [ "client_credentials" ],
  "authorities" : [ "clients.read", "clients.write" ],
  "token_salt" : "hRZ21X",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name",
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/clients</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 6e9e961f0d01427e9943b5a196232e80</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">445</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"aPq3I1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"hRZ21X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">486</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"aPq3I1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"hRZ21X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364445109</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Optional</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required if the client allows <code class="prettyprint">authorization_code</code> or <code class="prettyprint">client_credentials</code> grant type</td>
<td>A secret string used for authenticating as this client</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="retrieve">Retrieve</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/4Z3t1r'</span> -i -H <span class="s1">'Authorization: Bearer b1b41b89b2564cdfbdace4242749830e'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/clients/4Z3t1r</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer b1b41b89b2564cdfbdace4242749830e</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">486</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4Z3t1r"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mr80UZ"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364445592</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.read</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="update">Update</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/55pTMX'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer 201f859e80c541db8f264e1f9606e3b1'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'{
  "scope" : [ "clients.new", "clients.autoapprove" ],
  "client_id" : "55pTMX",
  "authorized_grant_types" : [ "client_credentials" ],
  "autoapprove" : [ "clients.autoapprove" ]
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/oauth/clients/55pTMX</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 201f859e80c541db8f264e1f9606e3b1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">182</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.new"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.autoapprove"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"55pTMX"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.autoapprove"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">506</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.new"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.autoapprove"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"55pTMX"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.autoapprove"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"8mwCEy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364443857</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Optional</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="delete">Delete</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/Gieovr'</span> -i -X DELETE -H <span class="s1">'Authorization: Bearer 3a474e31d64546e3a058d2574b434d81'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/oauth/clients/Gieovr</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 3a474e31d64546e3a058d2574b434d81</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">486</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Gieovr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a4mzKu"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364443957</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="change-secret">Change Secret</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/2XhLcJ/secret'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer a333d8b9e7c44c5dbc09a79e0bc1f88f'</span> -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'{
  "clientId" : "2XhLcJ",
  "secret" : "new_secret"
}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/oauth/clients/2XhLcJ/secret</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer a333d8b9e7c44c5dbc09a79e0bc1f88f</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">54</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2XhLcJ"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_secret"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">53</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}/secret</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>oldSecret</td>
<td>String</td>
<td>Optional if authenticated as an admin client. Required otherwise.</td>
<td>The client secret before updating</td>
</tr>
<tr>
<td>secret</td>
<td>String</td>
<td>Required</td>
<td>The new client secret</td>
</tr>
</tbody></table>

<h2 id="list">List</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients?filter=client_id+eq+%22EGgNW3%22&amp;sortBy=client_id&amp;sortOrder=descending&amp;startIndex=1&amp;count=10'</span> -i -H <span class="s1">'Authorization: Bearer 435ecbbf69894e2c9079353e296d778c'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/clients?filter=client_id+eq+%22EGgNW3%22&amp;sortBy=client_id&amp;sortOrder=descending&amp;startIndex=1&amp;count=10</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 435ecbbf69894e2c9079353e296d778c</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">673</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"EGgNW3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"7uDPJX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364445334</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startIndex"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"itemsPerPage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalResults"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schemas"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://cloudfoundry.org/schema/scim/oauth-clients-1.0"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.read</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">client_id pr</code>)</td>
<td>SCIM filter for querying clients</td>
</tr>
<tr>
<td>sortBy</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">client_id</code>)</td>
<td>Field to sort results by</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code class="prettyprint">ascending</code>)</td>
<td>Sort results in <code class="prettyprint">ascending</code> or <code class="prettyprint">descending</code> order</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">1</code>)</td>
<td>Index of the first result on which to begin the page</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code class="prettyprint">100</code>)</td>
<td>Number of results per page</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>resources[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>resources[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>resources[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resources[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>resources[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>resources[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>resources[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>resources[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>resources[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>resources[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>resources[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>resources[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>resources[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Index of the first result on this page</td>
</tr>
<tr>
<td>itemsPerPage</td>
<td>Number</td>
<td>Number of results per page</td>
</tr>
<tr>
<td>totalResults</td>
<td>Number</td>
<td>Total number of results that matched the query</td>
</tr>
<tr>
<td>schemas</td>
<td>Array</td>
<td><code class="prettyprint">[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<h2 id="batch-create">Batch Create</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/tx'</span> -i -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer bfeee66f3fad4ae3b7567a87d9bc8bac'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'[ {
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "14pnUs",
  "client_secret" : "secret",
  "authorized_grant_types" : [ "client_credentials" ],
  "authorities" : [ "clients.read", "clients.write" ],
  "token_salt" : "erRsWH",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name",
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ]
}, {
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "0Tgnfy",
  "client_secret" : "secret",
  "authorized_grant_types" : [ "client_credentials" ],
  "authorities" : [ "clients.read", "clients.write" ],
  "token_salt" : "4wMTwN",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name",
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ]
} ]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/clients/tx</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bfeee66f3fad4ae3b7567a87d9bc8bac</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">896</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">978</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444218</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444318</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Optional</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].client_secret</td>
<td>String</td>
<td>Required if the client allows <code class="prettyprint">authorization_code</code> or <code class="prettyprint">client_credentials</code> grant type</td>
<td>A secret string used for authenticating as this client</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="batch-update">Batch Update</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/tx'</span> -i -X PUT -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer bfeee66f3fad4ae3b7567a87d9bc8bac'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'[ {
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "14pnUs",
  "authorized_grant_types" : [ "client_credentials" ],
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ],
  "authorities" : [ "clients.read", "clients.write" ],
  "token_salt" : "erRsWH",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name"
}, {
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "0Tgnfy",
  "authorized_grant_types" : [ "client_credentials" ],
  "authorities" : [ "clients.read", "new.authority", "clients.write" ],
  "token_salt" : "4wMTwN",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name",
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ]
} ]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/oauth/clients/tx</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bfeee66f3fad4ae3b7567a87d9bc8bac</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">853</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"new.authority"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">995</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444218</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"new.authority"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444318</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Optional (defaults to <code class="prettyprint">[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Optional</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>

<h2 id="batch-secret-change">Batch Secret Change</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/tx/secret'</span> -i -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer bfeee66f3fad4ae3b7567a87d9bc8bac'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'[ {
  "clientId" : "14pnUs",
  "secret" : "new_secret"
}, {
  "clientId" : "0Tgnfy",
  "secret" : "new_secret"
} ]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/clients/tx/secret</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bfeee66f3fad4ae3b7567a87d9bc8bac</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">114</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_secret"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_secret"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1055</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444461</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"new.authority"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444461</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].clientId</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].oldSecret</td>
<td>String</td>
<td>Optional if authenticated as an admin client. Required otherwise.</td>
<td>The client secret before updating</td>
</tr>
<tr>
<td>[].secret</td>
<td>String</td>
<td>Required</td>
<td>The new client secret</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Indicates whether the approvals associated with the client were deleted as a result of this action</td>
</tr>
</tbody></table>

<h2 id="mixed-actions">Mixed Actions</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/tx/modify'</span> -i -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer bfeee66f3fad4ae3b7567a87d9bc8bac'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'[ {
  "action" : "secret",
  "client_secret" : "new_secret",
  "client_id" : "14pnUs"
}, {
  "action" : "delete",
  "client_id" : "0Tgnfy"
}, {
  "scope" : [ "clients.read", "clients.write" ],
  "client_id" : "qECLyr",
  "client_secret" : "secret",
  "resource_ids" : [ ],
  "authorized_grant_types" : [ "client_credentials" ],
  "action" : "add",
  "authorities" : [ "clients.read", "clients.write" ],
  "token_salt" : "48TIsq",
  "autoapprove" : true,
  "allowedproviders" : [ "uaa", "ldap", "my-saml-provider" ],
  "name" : "My Client Name",
  "redirect_uri" : [ "http://test1.com", "http*://ant.path.wildcard/**/passback/*" ]
} ]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/clients/tx/modify</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bfeee66f3fad4ae3b7567a87d9bc8bac</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">633</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"qECLyr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"48TIsq"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1250</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0Tgnfy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"new.authority"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"4wMTwN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444461</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"qECLyr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"action"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"48TIsq"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444868</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[]</td>
<td>Object</td>
<td>Required</td>
<td>Modification objects which will each be processed.</td>
</tr>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].action</td>
<td>String</td>
<td>Required</td>
<td>Can be any of <code class="prettyprint">add</code> to create a client, <code class="prettyprint">delete</code> to delete a client, <code class="prettyprint">update</code> to alter non-secret client information, <code class="prettyprint">secret</code> to change the client secret, <code class="prettyprint">update_secret</code> to alter all client information including the client_secret. For the fields needed to perform any of these actions, see the appropriate endpoint documentation.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Indicates whether the approvals associated with the client were deleted as a result of this action</td>
</tr>
<tr>
<td>[].action</td>
<td>String</td>
<td>The action that was specified and taken on the client</td>
</tr>
</tbody></table>

<h2 id="batch-delete">Batch Delete</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/tx/delete'</span> -i -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Authorization: Bearer bfeee66f3fad4ae3b7567a87d9bc8bac'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'[ {
  "client_id" : "14pnUs"
}, {
  "client_id" : "qECLyr"
} ]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/oauth/clients/tx/delete</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer bfeee66f3fad4ae3b7567a87d9bc8bac</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">62</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"qECLyr"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1038</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"14pnUs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"erRsWH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444461</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"qECLyr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resource_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"none"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorized_grant_types"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"client_credentials"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"http*://ant.path.wildcard/**/passback/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"http://test1.com"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"autoapprove"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"authorities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"clients.read"</span><span class="p">,</span><span class="w"> </span><span class="s2">"clients.write"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"token_salt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"48TIsq"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowedproviders"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w"> </span><span class="s2">"my-saml-provider"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"My Client Name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastModified"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1468364444868</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approvals_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.write</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code class="prettyprint">authorization_code</code>, <code class="prettyprint">password</code>, <code class="prettyprint">implicit</code>, and/or <code class="prettyprint">client_credentials</code>.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>Array</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Allowed URI pattern for redirect during authorization</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>A random string used to generate the client&rsquo;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].lastModified</td>
<td>Number</td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Indicates whether the approvals associated with the client were deleted as a result of this action</td>
</tr>
</tbody></table>

<h2 id="metadata">Metadata</h2>

<h3 id="retrieve">Retrieve</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/P4vuAaSe/meta'</span> -i -H <span class="s1">'Authorization: Bearer 24a4d2f0ab4544ba9984c08a47ee4133'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/clients/P4vuAaSe/meta</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer 24a4d2f0ab4544ba9984c08a47ee4133</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">143</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"P4vuAaSe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://myloginpage.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"aWNvbiBmb3IgY2xpZW50IDQ="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{clientId}/meta</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>showOnHomePage</td>
<td>Boolean</td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td>appLaunchUrl</td>
<td>String</td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td>appIcon</td>
<td>String</td>
<td>Base64 encoded image file</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Not Found - clientId doesn&rsquo;t exists</td>
</tr>
</tbody></table>

<h3 id="list">List</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/meta'</span> -i -H <span class="s1">'Authorization: Bearer b0709afd93574f0d91732737fef984af'</span> -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/oauth/clients/meta</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer b0709afd93574f0d91732737fef984af</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">563</span>

<span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"9134O7y4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://client3.com/app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Y2xpZW50IDMgaWNvbg=="</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RpFRZpY3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://changed.app.launch/url"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ewegZo0R"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://client4.com/app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"aWNvbiBmb3IgY2xpZW50IDQ="</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lqhK1n8q"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://myloginpage.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"aWNvbiBmb3IgY2xpZW50IDQ="</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].clientId</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].showOnHomePage</td>
<td>Boolean</td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td>[].appLaunchUrl</td>
<td>String</td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td>[].appIcon</td>
<td>String</td>
<td>Base64 encoded image file</td>
</tr>
</tbody></table>

<h3 id="update">Update</h3>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/oauth/clients/RpFRZpY3/meta'</span> -i -X PUT -H <span class="s1">'Authorization: Bearer f93d4a4bb8ba4197873a2430d5d0a534'</span> -H <span class="s1">'If-Match: 0'</span> -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'{"clientId":"RpFRZpY3","showOnHomePage":false,"appLaunchUrl":"http://changed.app.launch/url"}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/oauth/clients/RpFRZpY3/meta</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer f93d4a4bb8ba4197873a2430d5d0a534</span>
<span class="na">If-Match</span><span class="p">:</span> <span class="s">0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">93</span>

<span class="p">{</span><span class="nt">"clientId"</span><span class="p">:</span><span class="s2">"RpFRZpY3"</span><span class="p">,</span><span class="nt">"showOnHomePage"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">"appLaunchUrl"</span><span class="p">:</span><span class="s2">"http://changed.app.launch/url"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">127</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RpFRZpY3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"showOnHomePage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appLaunchUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://changed.app.launch/url"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appIcon"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Bearer token containing <code class="prettyprint">clients.read</code>, <code class="prettyprint">clients.admin</code> or <code class="prettyprint">zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td>X-Identity-Zone-Id</td>
<td>May include this header to administer another zone if using <code class="prettyprint">zones.&lt;zone.id&gt;.admin</code> or <code class="prettyprint">uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>String</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>showOnHomePage</td>
<td>Boolean</td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td>appLaunchUrl</td>
<td>String</td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td>appIcon</td>
<td>String</td>
<td>Base64 encoded image file</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Not Found - clientId doesn&rsquo;t exists</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
</tbody></table>

<h1 id="server-information">Server Information</h1>

<p>The UAA provides several endpoints to describe the server as well as handle various login tasks.</p>

<h2 id="server-information">Server Information</h2>

<p>This endpoint has two identical endpoints</p>

<ol>
<li>/info</li>
<li>/login</li>
</ol>

<p>Both return the same result and both support both JSON and HTML output.
The HTML output is intended for browser user agents to display a login page.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/info'</span> -i -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/info</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">623</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"app"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"3.5.0-SNAPSHOT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uaa"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"passwd"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/forgot_password"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"login"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/uaa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"register"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/create_account"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"zone_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"uaa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"entityID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cloudfoundry-saml-login"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"commit_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"f2e3de1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"idpDefinitions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"SAML"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/uaa/saml/discovery?returnIDParam=idp&amp;entityID=cloudfoundry-saml-login&amp;idp=SAML&amp;isPassive=true"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"prompts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Email"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"password"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Password"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-12T22:10:11+0000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>When set to accept application/json the server will return prompts and server info in JSON format.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>app.version</td>
<td>String</td>
<td>The UAA version</td>
</tr>
<tr>
<td>commit_id</td>
<td>String</td>
<td>The GIT sha for the UAA version</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>JSON timestamp for the commit of the UAA version</td>
</tr>
<tr>
<td>idpDefinitions</td>
<td>Object</td>
<td>A list of alias/url pairs of SAML IDP providers configured. Each url is the starting point to initiate the authentication process for the SAML identity provider.</td>
</tr>
<tr>
<td>links</td>
<td>Object</td>
<td>A list of alias/url pairs of configured action URLs for the UAA</td>
</tr>
<tr>
<td>links.login</td>
<td>String</td>
<td>The link to the login host alias of the UAA</td>
</tr>
<tr>
<td>links.uaa</td>
<td>String</td>
<td>The link to the uaa alias host of the UAA</td>
</tr>
<tr>
<td>links.passwd</td>
<td>String</td>
<td>The link to the &#39;Forgot Password&rsquo; functionality. Can be external or internal to the UAA</td>
</tr>
<tr>
<td>links.register</td>
<td>String</td>
<td>The link to the &#39;Create Account&rsquo; functionality. Can be external or internal to the UAA</td>
</tr>
<tr>
<td>entityID</td>
<td>String</td>
<td>The UAA is always a SAML service provider. This field contains the configured entityID</td>
</tr>
<tr>
<td>prompts</td>
<td>Object</td>
<td>A list of name/value pairs of configured prompts that the UAA will login a user. Format for each prompt is [type, display name] where type can be &#39;text&rsquo; or &#39;password&rsquo;</td>
</tr>
<tr>
<td>prompts.username</td>
<td>Array</td>
<td>Information about the username prompt.</td>
</tr>
<tr>
<td>prompts.password</td>
<td>Array</td>
<td>Information about the password prompt.</td>
</tr>
<tr>
<td>prompts.passcode</td>
<td>Array</td>
<td>If a SAML identity provider is configured, this prompt contains a URL to where the user can initiate the SAML authentication flow.</td>
</tr>
<tr>
<td>zone_name</td>
<td>String</td>
<td>The name of the zone invoked</td>
</tr>
<tr>
<td>showLoginLinks</td>
<td>Boolean</td>
<td>Set to true if there are SAML or OAUTH/OIDC providers with a visible link on the login page.</td>
</tr>
</tbody></table>

<h2 id="passcode">Passcode</h2>

<p>A user that has been authenticated, can request a one time authentication code, pass code, to be used during a 
token password grant. Password grants are often used in non browser environments, and authenticating a user with SAML, 
 may be difficult. </p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/passcode'</span> -i -H <span class="s1">'Accept: application/json'</span> -H <span class="s1">'Cookie: JSESSIONID=13'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/passcode</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=13</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-store</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">12</span>

<span class="s2">"bV91jTsbL9"</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Cookie</td>
<td>JSESSIONID cookie to match the server side session of the authenticated user.</td>
</tr>
</tbody></table>

<h2 id="auto-login">Auto Login</h2>

<h3 id="get-authentication-code">Get authentication code</h3>

<p>Similar to /passcode, the difference with an autologin authentication code, is that the authentication of the user takes place
during the generation of the one time code.
The autologin authentication code can be used to log the user in with an HTTP redirect. The UAA will establish an authenticated
server side session and expire the code. To generate the one time code, a POST against /autologin is required.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/autologin'</span> -i -u <span class="s1">'admin:adminsecret'</span> -X POST -H <span class="s1">'Content-Type: application/json'</span> -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'{"username":"marissa","password":"koala"}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/autologin</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YWRtaW46YWRtaW5zZWNyZXQ=</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="nt">"username"</span><span class="p">:</span><span class="s2">"marissa"</span><span class="p">,</span><span class="nt">"password"</span><span class="p">:</span><span class="s2">"koala"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">58</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"5DPr7dLj7H"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"path"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/oauth/authorize"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td>Basic authorization header for the client making the autologin request</td>
</tr>
<tr>
<td>Content-Type</td>
<td>Set to application/json</td>
</tr>
<tr>
<td>Accept</td>
<td>Set to application/json</td>
</tr>
</tbody></table>

<p><em>Request Body</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>Required</td>
<td>The username for the autologin request</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>The password for the autologin request</td>
</tr>
</tbody></table>

<p><em>Response Body</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>String</td>
<td>The code used to authenticate the user.</td>
</tr>
<tr>
<td>path</td>
<td>String</td>
<td>Not used. Hardcoded to /oauth/authorize</td>
</tr>
</tbody></table>

<h3 id="perform-login">Perform Login</h3>

<p>To exchange the code for an authenticated session, simply issue a redirect to /autologin using the code and client_id.
If successful the user will be redirected to the home page, unless the user had tried to access a protected URL
and the UAA remembers the URL that was accessed. </p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost/autologin?code=BFd2nf46EF&amp;client_id=admin'</span> -i
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/autologin?code=BFd2nf46EF&amp;client_id=admin</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost</span>

</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache, no-store, max-age=0, must-revalidate</span>
<span class="na">Pragma</span><span class="p">:</span> <span class="s">no-cache</span>
<span class="na">Expires</span><span class="p">:</span> <span class="s">0</span>
<span class="na">X-XSS-Protection</span><span class="p">:</span> <span class="s">1; mode=block</span>
<span class="na">X-Frame-Options</span><span class="p">:</span> <span class="s">DENY</span>
<span class="na">X-Content-Type-Options</span><span class="p">:</span> <span class="s">nosniff</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">home</span>

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>The code generated from the POST /autologin</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>The client_id that generated the autologin code</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
